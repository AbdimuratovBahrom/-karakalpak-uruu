

<!-- 
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–†–£–£ | –î—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Å—Ö–µ–º–∞</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #d4af37;
            --bg: #0a0c10;
            --bg-card: #151923;
            --text: #ffffff;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); overflow: hidden; }
        
        header {
            position: fixed;
            top: 0; left: 0; right: 0;
            background: rgba(10,12,16,0.95);
            border-bottom: 2px solid var(--gold);
            padding: 1rem 2rem;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .logo h1 { font-family: 'Cormorant Garamond', serif; color: var(--gold); font-size: 1.8rem; }
        
        .view-switch {
            display: flex;
            gap: 0.5rem;
            background: rgba(255,255,255,0.1);
            padding: 0.25rem;
            border-radius: 20px;
        }
        
        .view-btn {
            padding: 0.5rem 1.5rem;
            border-radius: 16px;
            border: none;
            background: transparent;
            color: #8892b0;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            font-size: 0.9rem;
        }
        
        .view-btn.active {
            background: var(--gold);
            color: #000;
            font-weight: 600;
        }

        main {
            margin-top: 70px;
            height: calc(100vh - 70px);
            display: grid;
            grid-template-columns: 1fr 380px;
        }

        #treeArea {
            overflow: hidden;
            position: relative;
            background: radial-gradient(circle at center, rgba(212,175,55,0.05) 0%, transparent 70%);
        }

        .node rect {
            cursor: pointer;
            transition: all 0.3s;
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.5));
        }

        .node:hover rect {
            filter: drop-shadow(0 8px 12px rgba(0,0,0,0.6)) brightness(1.2);
            stroke: #fff;
            stroke-width: 3px;
        }

        .node text {
            font-family: 'Inter', sans-serif;
            font-size: 12px;
            font-weight: 600;
            fill: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.8);
            pointer-events: none;
        }

        .link {
            fill: none;
            stroke: #4a5568;
            stroke-width: 2px;
            opacity: 0.6;
        }

        .detail-panel {
            background: var(--bg-card);
            border-left: 1px solid #2d3548;
            padding: 2rem;
            overflow-y: auto;
            box-shadow: -10px 0 30px rgba(0,0,0,0.5);
        }

        .detail-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #2d3548;
        }

        .detail-tamga {
            width: 100px;
            height: 100px;
            margin: 0 auto 1rem;
            background: linear-gradient(135deg, rgba(212,175,55,0.2), rgba(212,175,55,0.1));
            border: 3px solid var(--gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            box-shadow: 0 0 30px rgba(212,175,55,0.3);
        }

        .detail-title { color: var(--gold); font-family: 'Cormorant Garamond', serif; font-size: 2rem; margin-bottom: 0.5rem; }
        
        .info-block {
            background: rgba(0,0,0,0.3);
            border-left: 4px solid var(--gold);
            padding: 1rem;
            border-radius: 0 8px 8px 0;
            margin-bottom: 1rem;
        }

        .info-label { font-size: 0.75rem; color: #8892b0; text-transform: uppercase; margin-bottom: 0.5rem; font-weight: bold; }
        
        .node-arys { fill: #e74c3c; stroke: #c0392b; }
        .node-ontort { fill: #3498db; stroke: #2980b9; }
        .node-shulik { fill: #9b59b6; stroke: #8e44ad; }
        .node-jaungir { fill: #1abc9c; stroke: #16a085; }
        .node-ulken { fill: #e67e22; stroke: #d35400; }
        .node-uruu { fill: #27ae60; stroke: #229954; }
        .node-tiyre { fill: #f1c40f; stroke: #f39c12; color: #000; }
        
        .controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(0,0,0,0.7);
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #333;
        }
        
        .controls button {
            background: #2d3748;
            border: none;
            color: white;
            padding: 5px 10px;
            margin: 0 5px;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .controls button:hover { background: var(--gold); color: black; }

        @media (max-width: 1200px) {
            main { grid-template-columns: 1fr; }
            .detail-panel { display: none; }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <span style="font-size: 2rem;">üå≥</span>
            <h1>–£–†–£–£</h1>
        </div>
    <div class="view-switch">
    <a href="index.html" class="view-btn" target="_self">üè† –ì–ª–∞–≤–Ω–æ–µ</a>
    <a href="lists.html" class="view-btn" target="_self">üìã –°–ø–∏—Å–∫–∏</a>
    <a href="scheme.html" class="view-btn active" target="_self">üå≥ –°—Ö–µ–º–∞</a>
    </div>
    </header>

    <main>
        <div id="treeArea">
            <svg id="treeSvg"></svg>
            <div class="controls">
                <button onclick="zoomIn()">+</button>
                <button onclick="resetZoom()">‚ü≤</button>
                <button onclick="zoomOut()">-</button>
            </div>
        </div>

        <aside class="detail-panel" id="details">
            <div class="detail-header">
                <div class="detail-tamga" id="dTamga">üèõÔ∏è</div>
                <div class="detail-title" id="dName">–ö–∞—Ä–∞–∫–∞–ª–ø–∞–∫–∏</div>
                <div style="color: #8892b0; font-size: 0.9rem;">300+ —Ä–æ–¥–æ–≤—ã—Ö –µ–¥–∏–Ω–∏—Ü</div>
            </div>
            <div id="dContent">
                <div class="info-block">
                    <div class="info-label">–ù–∞–≤–∏–≥–∞—Ü–∏—è</div>
                    <div style="line-height: 1.6;">
                        üñ±Ô∏è <strong>–ö–æ–ª–µ—Å–æ –º—ã—à–∏</strong> ‚Äî –º–∞—Å—à—Ç–∞–±<br>
                        üñ±Ô∏è <strong>–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ</strong> ‚Äî –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ<br>
                        üëÜ <strong>–ö–ª–∏–∫</strong> ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–æ–¥–µ<br>
                        <br>
                        –¶–≤–µ—Ç–∞:<br>
                        <span style="color:#e74c3c">‚óè</span> –ê—Ä—ã—Å “ö–æ“£—ã—Ä–∞—Ç<br>
                        <span style="color:#3498db">‚óè</span> –ê—Ä—ã—Å –û–Ω —Ç”©—Ä—Ç<br>
                        <span style="color:#e67e22">‚óè</span> “Æ–ª–∫–µ–Ω —É—Ä—É—É<br>
                        <span style="color:#27ae60">‚óè</span> –£—Ä—É—É<br>
                        <span style="color:#f1c40f">‚óè</span> –¢–∏–π—Ä–µ
                    </div>
                </div>
            </div>
        </aside>
    </main>

    <script>
        // –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è D3
        const treeData = {
            name: "“ö–∞—Ä–∞“õ–∞–ª–ø–∞“õ",
            type: "root",
            tamga: "üèõÔ∏è",
            children: [
                {
                    name: "–ê—Ä—ã—Å “ö–æ“£—ã—Ä–∞—Ç",
                    type: "arys",
                    tamga: "‚©É",
                    uran: "–ñ–∞–π—ã–ª“õ–∞–Ω!",
                    children: [
                        {
                            name: "–®“Ø–ª–ª–∏–∫",
                            type: "shulik",
                            children: [
                                {
                                    name: "–ú“Ø–π—Ç–µ–Ω",
                                    type: "ulken",
                                    tamga: "œà",
                                    uran: "–ê“õ—à–æ–ª–ø–∞–Ω!",
                                    desc: "–ë–µ—Å —Ç–æ“õ—Å–∞–Ω. –ö–µ–Ω—Ç–∞–Ω–∞—É‚Üí–ë–∞—Ä–Ω,–ò—Ç–∞–∫,–ñ–µ–∫–µ–Ω—Å–∞–ª",
                                    cemetery: "“ö–∞–±–∞“õ–ª—ã –∞—Ç–∞",
                                    children: [
                                        { name: "–°–∞–º–∞—Ç", type: "uruu", children: [{name:"–ë–∞–π–±–∏—à–µ",type:"tiyre"},{name:"–¢–æ–∫–∞–ª“õ–∞—Ä–∞“ì–∞–Ω",type:"tiyre"},{name:"–ë–∞–π–º“±—Ä–∞—Ç",type:"tiyre"}] },
                                        { name: "–¢–µ–ª–∏", type: "uruu", children: [{name:"–¢—ñ–ª–µ—É–±–µ—Ä–¥—ñ",type:"tiyre"},{name:"–ê–ª–ª–∞–±–µ—Ä–¥—ñ",type:"tiyre"}] },
                                        { name: "–ê–±—ã–∑", type: "uruu" },
                                        { name: "–ö–µ“£—Ç–∞–Ω–∞—É", type: "uruu", children: [{name:"–ë–∞—Ä–Ω",type:"tiyre"},{name:"–ò—Ç–∞–∫",type:"tiyre"},{name:"–ñ–µ–∫–µ–Ω—Å–∞–ª",type:"tiyre"}] }
                                    ]
                                },
                                {
                                    name: "“ö—ã—è—Ç",
                                    type: "ulken",
                                    tamga: "Œ®",
                                    children: [
                                        { name: "“Æ—à —Ç–∞–º“ì–∞–ª—ã", type: "uruu", children: [{name:"–°–∞“£–º“±—Ä—ã–Ω",type:"tiyre"},{name:"“Æ—à—Ç–∞“£–±–∞–ª—ã",type:"tiyre"},{name:"–ê—Ä—ã“õ“õ–∏—è—Ç",type:"tiyre"},{name:"–¢–∞—Ä—Ç—É–ª—ã",type:"tiyre"},{name:"“ö–∞–Ω–∂—ã“ì–∞–ª—ã",type:"tiyre"},{name:"“ö–∞—Ç–∞“ì–∞–Ω",type:"tiyre"}] },
                                        { name: "–¢–∞—Ä–∞“õ—Ç—ã", type: "uruu", children: [{name:"–¢–æ“ì—ã–∑–∞“õ",type:"tiyre"},{name:"–ê–±–∞—Å",type:"tiyre"},{name:"–ñ–∞–ª—Ç—ã—Ä—à—ã",type:"tiyre"}] },
                                        { name: "–ë–∞–ª“ì–∞–ª—ã", type: "uruu" }
                                    ]
                                },
                                {
                                    name: "–ê—à–∞–º–∞–π–ª—ã",
                                    type: "ulken",
                                    tamga: "‚úï",
                                    children: [
                                        { name: "–°–∞“õ—ã—É", type: "uruu" },
                                        { name: "“ö–∞—Ä–∞“õ–æ–∂–∞", type: "uruu" },
                                        { name: "“ö–∞–±–∞—Å–∞–Ω", type: "uruu", children: [{name:"–ê“õ–Ω–∞–∑–∞—Ä",type:"tiyre"},{name:"–ñ–∞–Ω—Å–∞—Ä—ã",type:"tiyre"}] },
                                        { name: "–°–∞—Ä—ã", type: "uruu" },
                                        { name: "“Æ—à–±–∞—Å", type: "uruu" }
                                    ]
                                },
                                {
                                    name: "“ö–æ–ª–¥–∞—É–ª—ã",
                                    type: "ulken",
                                    children: [
                                        { name: "–ë–µ—Å–µ–º–ø—ñ—Ä", type: "uruu" },
                                        { name: "–ú–∞–π—à—ã", type: "uruu" },
                                        { name: "–°–∞—Ä—ã—Ç–∞–Ω", type: "uruu" },
                                        { name: "–®—ã–ª–∂—É—ã—Ç", type: "uruu" }
                                    ]
                                },
                                {
                                    name: "“ö–æ—Å—Ç–∞–º“ì–∞–ª—ã",
                                    type: "ulken",
                                    tamga: "‚ßâ",
                                    children: [
                                        { name: "–ñ–∞–Ω–≥–µ–ª–¥—ñ", type: "uruu" },
                                        { name: "–ê“ì–∞–±–µ–≥–ª—ñ", type: "uruu" }
                                    ]
                                }
                            ]
                        },
                        {
                            name: "–ñ–∞—É—ã“£—ã—Ä",
                            type: "jaungir",
                            children: [
                                {
                                    name: "–¢–µ—Ä–∏—Å—Ç–∞–º“ì–∞–ª—ã",
                                    type: "ulken",
                                    children: [{name:"–®–æ–º–∞“õ",type:"uru—É"},{name:"–•–∞–Ω–≥–µ–ª–¥—ñ",type:"uru—É"}]
                                },
                                {
                                    name: "–´—Ä“ì–∞“õ—Ç—ã",
                                    type: "ulken",
                                    desc: "–ï—Å—Ç—å –≤ –æ–±–æ–∏—Ö –∞—Ä—ã—Å–∞—Ö!",
                                    children: [{name:"–°–∞—Å–ø–∞“õ",type:"uru—É"},{name:"“Æ–π–µ—Å",type:"uru—É"}]
                                }
                            ]
                        }
                    ]
                },
                {
                    name: "–ê—Ä—ã—Å –û–Ω —Ç”©—Ä—Ç",
                    type: "ontort",
                    tamga: "‚ßú",
                    uran: "–¢–æ“õ—Å–∞–±–∞!",
                    children: [
                        {
                            name: "“ö—ã—Ç–∞–π",
                            type: "ulken",
                            tamga: "14",
                            pair: "“ö—ã–ø—à–∞–∫",
                            children: [
                                { name: "–ë–µ—Å—Å–∞—Ä—ã", type: "uruu", children: [{name:"–ñ“Ø–Ω–ª–∏",type:"tiyre"},{name:"“ö–æ–π–ª—ã",type:"tiyre"}] },
                                { name: "–ë–µ–∫—Å—ã—ã“õ", type: "uruu" },
                                { name: "“ö–∞–∑–∞—è“õ—Ç—ã", type: "uruu" }
                            ]
                        },
                        {
                            name: "“ö—ã–ø—à–∞–∫",
                            type: "ulken",
                            tamga: "‚ÅÑ",
                            pair: "“ö—ã—Ç–∞–π",
                            children: [
                                { name: "“ö–∞“£–ª—ã", type: "uru—É", children: [{name:"–¢—Ä–∞–º",type:"tiyre"},{name:"“ö–∞—Ç“õ–∞“£–ª—ã",type:"tiyre"}] },
                                { name: "–°–∞“£–º“±—Ä—ã–Ω", type: "uru—É" },
                                { name: "“ö–∞–Ω–∂—ã“ì–∞–ª—ã", type: "uru—É" }
                            ]
                        },
                        {
                            name: "–ö–µ–Ω–µ–≥–µ—Å",
                            type: "ulken",
                            tamga: "+",
                            pair: "–ú–∞“£“ì—ã—Ç",
                            children: [
                                { name: "–ê—Ä–∞–Ω—à—ã", type: "uru—É", children: [{name:"–ê–Ω–Ω–∞“õ“±–ª",type:"tiyre"},{name:"–ê–±–∞—Å",type:"tiyre"}] },
                                { name: "–ù”©–∫—ñ—Å", type: "uru—É", note: "–°—Ç–æ–ª–∏—Ü–∞!" }
                            ]
                        },
                        {
                            name: "–ú–∞“£“ì—ã—Ç",
                            type: "ulken",
                            tamga: "‚®ç",
                            pair: "–ö–µ–Ω–µ–≥–µ—Å",
                            children: [
                                { name: "“ö–∞—Ä–∞–º–∞“£“ì—ã—Ç", type: "uru—É" },
                                { name: "–ê“õ–º–∞“£“ì—ã—Ç", type: "uru—É", desc: "–ü–æ—Ç–æ–º–∫–∏ –ï–¥–∏–≥–µ" },
                                { name: "“ö—ã–ª–∫–∞–ª—ã", type: "uru—É", legend: "–®—É–±–∞ –æ—Ç –ß–∏–Ω–≥–∏—Å—Ö–∞–Ω–∞" }
                            ]
                        }
                    ]
                }
            ]
        };

        let svg, g, zoom;
        let currentZoom = d3.zoomIdentity;

        function initTree() {
            const container = document.getElementById('treeArea');
            const width = container.clientWidth;
            const height = container.clientHeight;

            svg = d3.select("#treeSvg")
                .attr("width", width)
                .attr("height", height);

            zoom = d3.zoom()
                .scaleExtent([0.3, 3])
                .on("zoom", (e) => {
                    g.attr("transform", e.transform);
                    currentZoom = e.transform;
                });

            svg.call(zoom);

            g = svg.append("g")
                .attr("transform", `translate(${width/2}, 80)`);

            const root = d3.hierarchy(treeData);
            const treeLayout = d3.tree().size([width-100, height-150]);
            
            treeLayout(root);

            // Links
            g.selectAll(".link")
                .data(root.links())
                .enter().append("path")
                .attr("class", "link")
                .attr("d", d3.linkVertical()
                    .x(d => d.x)
                    .y(d => d.y));

            // Nodes
            const node = g.selectAll(".node")
                .data(root.descendants())
                .enter().append("g")
                .attr("class", "node")
                .attr("transform", d => `translate(${d.x},${d.y})`)
                .on("click", (e, d) => showDetails(d.data));

            node.append("rect")
                .attr("class", d => `node-${d.data.type}`)
                .attr("width", d => d.data.name.length * 8 + 20)
                .attr("height", 30)
                .attr("x", d => -(d.data.name.length * 8 + 20) / 2)
                .attr("y", -15)
                .attr("rx", 6)
                .attr("stroke-width", 2);

            node.append("text")
                .attr("dy", ".35em")
                .attr("text-anchor", "middle")
                .text(d => d.data.name);

            // Tamga above
            node.filter(d => d.data.tamga)
                .append("text")
                .attr("dy", -25)
                .attr("text-anchor", "middle")
                .style("font-size", "14px")
                .style("fill", "#d4af37")
                .text(d => d.data.tamga);
        }

        function showDetails(data) {
            document.getElementById('dTamga').textContent = data.tamga || 'üèπ';
            document.getElementById('dName').textContent = data.name;
            
            let html = '';
            
            const colors = {
                arys: '#e74c3c', ontort: '#3498db', ulken: '#e67e22',
                uruu: '#27ae60', tiyre: '#f1c40f', shulik: '#9b59b6', jaungir: '#1abc9c'
            };
            
            const color = colors[data.type] || '#d4af37';
            
            if (data.type) {
                html += `<div class="info-block" style="border-color:${color}">
                    <div class="info-label">–¢–∏–ø</div>
                    <div style="color:${color};font-weight:bold">${data.type}</div>
                </div>`;
            }
            
            if (data.uran) {
                html += `<div class="info-block" style="border-color:#e74c3c">
                    <div class="info-label">–£—Ä–∞–Ω</div>
                    <div style="color:#ff8a80;font-size:1.2rem">${data.uran}</div>
                </div>`;
            }
            
            if (data.desc) {
                html += `<div class="info-block"><div class="info-label">–û–ø–∏—Å–∞–Ω–∏–µ</div>${data.desc}</div>`;
            }
            
            if (data.legend) {
                html += `<div class="info-block" style="border-color:#f39c12;background:rgba(243,156,18,0.1)">
                    <div class="info-label">–õ–µ–≥–µ–Ω–¥–∞</div><em>${data.legend}</em>
                </div>`;
            }
            
            if (data.cemetery) {
                html += `<div class="info-block" style="border-color:#27ae60">
                    <div class="info-label">–ö–ª–∞–¥–±–∏—â–µ</div>${data.cemetery}
                </div>`;
            }
            
            document.getElementById('dContent').innerHTML = html;
        }

        function zoomIn() {
            svg.transition().call(zoom.scaleBy, 1.3);
        }

        function zoomOut() {
            svg.transition().call(zoom.scaleBy, 0.7);
        }

        function resetZoom() {
            svg.transition().call(zoom.transform, d3.zoomIdentity.translate(document.getElementById('treeArea').clientWidth/2, 80));
        }

        window.addEventListener('resize', () => {
            d3.select("#treeSvg").selectAll("*").remove();
            initTree();
        });

        window.onload = initTree;
    </script>
</body>
</html> -->






<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–†–£–£ | –î—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Å—Ö–µ–º–∞</title>
    <style>
        :root {
            --primary-bg: #0f1419;
            --secondary-bg: #1a1f2e;
            --accent-red: #e74c3c;
            --accent-orange: #e67e22;
            --accent-yellow: #f1c40f;
            --gold: #f1c40f;
            --accent-green: #2ecc71;
            --accent-blue: #3498db;
            --accent-purple: #9b59b6;
            --accent-cyan: #1abc9c;
            --text-primary: #ecf0f1;
            --text-secondary: #bdc3c7;
            --border-color: #34495e;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%);
            min-height: 100vh;
            color: var(--text-primary);
            overflow-x: hidden;
            padding-top: 80px;
        }

        /* HEADER */
        header {
            position: fixed;
            top: 0; left: 0; right: 0;
            background: rgba(10,12,16,0.95);
            border-bottom: 2px solid var(--gold);
            padding: 1rem 2rem;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
            height: 70px;
        }

        .logo { display: flex; align-items: center; gap: 10px; }
        .logo h1 { 
            font-family: 'Cormorant Garamond', serif; 
            color: var(--gold); 
            font-size: 1.8rem; 
            margin: 0;
        }
        
        .view-switch {
            display: flex;
            gap: 0.5rem;
            background: rgba(255,255,255,0.1);
            padding: 0.25rem;
            border-radius: 20px;
        }
        
        .view-btn {
            padding: 0.5rem 1.5rem;
            border-radius: 16px;
            border: none;
            background: transparent;
            color: #8892b0;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            font-size: 0.9rem;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .view-btn:hover { color: var(--text-primary); background: rgba(255,255,255,0.1); }
        .view-btn.active { background: var(--gold); color: #000; font-weight: 600; }

        /* MAIN CONTAINER */
        .container { 
            display: flex; 
            height: calc(100vh - 80px); 
            overflow: hidden; 
            position: relative;
        }
        
        /* TREE PANEL - LEFT SIDE */
        .tree-panel { 
            flex: 1; 
            overflow-y: auto; 
            overflow-x: auto;
            padding: 20px; 
            background: rgba(15, 20, 25, 0.98); 
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 300px;
        }
        
        .tree-title {
            color: var(--accent-yellow);
            margin-bottom: 5px;
            font-size: 1.8em;
            text-align: center;
        }
        
        .tree-subtitle { 
            color: var(--text-secondary); 
            margin-bottom: 20px; 
            font-size: 0.9em; 
            text-align: center;
        }
        
        /* TREE STRUCTURE */
        .tree { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            gap: 15px; 
            width: 100%;
            padding-bottom: 50px;
        }
        
        .branch { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            margin: 5px; 
        }
        
        .node {
            background: var(--secondary-bg); 
            border: 2px solid var(--border-color); 
            border-radius: 8px;
            padding: 8px 12px; 
            cursor: pointer; 
            transition: all 0.3s;
            min-width: 100px; 
            text-align: center; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.3); 
            font-size: 0.85em;
            margin: 2px;
        }
        
        .node:hover { 
            transform: translateY(-3px) scale(1.05); 
            border-color: var(--accent-yellow); 
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
            z-index: 10;
        }
        
        .node.active { 
            border-color: var(--accent-yellow); 
            box-shadow: 0 0 15px rgba(241, 196, 15, 0.5); 
            transform: scale(1.1);
        }
        
        /* LEVEL COLORS */
        .level-0 .node { background: linear-gradient(135deg, #e74c3c, #c0392b); font-size: 1.2em; font-weight: bold; padding: 12px 20px; border-color: #c0392b; }
        .level-1 .node { background: linear-gradient(135deg, #e67e22, #d35400); font-size: 1em; font-weight: bold; border-color: #d35400; }
        .level-2 .node { background: linear-gradient(135deg, #f1c40f, #f39c12); color: #2c3e50; font-weight: bold; border-color: #f39c12; }
        .level-3 .node { background: linear-gradient(135deg, #2ecc71, #27ae60); border-color: #27ae60; }
        .level-4 .node { background: linear-gradient(135deg, #3498db, #2980b9); font-size: 0.8em; min-width: 90px; border-color: #2980b9; }
        .level-5 .node { background: linear-gradient(135deg, #9b59b6, #8e44ad); font-size: 0.75em; min-width: 80px; border-color: #8e44ad; }
        .level-6 .node { background: linear-gradient(135deg, #1abc9c, #16a085); font-size: 0.7em; min-width: 70px; border-color: #16a085; }
        
        .node-title { font-weight: bold; font-size: 1em; margin-bottom: 2px; }
        .node-subtitle { font-size: 0.75em; opacity: 0.9; font-style: italic; }
        
        .connector { 
            width: 2px; 
            height: 15px; 
            background: linear-gradient(to bottom, var(--accent-orange), transparent); 
            margin: -5px auto; 
        }
        
        .children { 
            display: flex; 
            gap: 10px; 
            margin-top: 15px; 
            flex-wrap: wrap; 
            justify-content: center; 
            position: relative;
        }

        /* INFO PANEL - RIGHT SIDE */
        .info-panel {
            width: 450px; 
            background: var(--secondary-bg); 
            border-left: 3px solid var(--accent-orange);
            padding: 25px; 
            overflow-y: auto; 
            box-shadow: -5px 0 25px rgba(0,0,0,0.4);
            position: relative;
        }
        
        .info-header { border-bottom: 2px solid var(--accent-orange); padding-bottom: 15px; margin-bottom: 20px; }
        .info-title { font-size: 1.6em; color: var(--accent-yellow); margin-bottom: 8px; word-wrap: break-word; }
        .info-type { 
            color: var(--accent-orange); 
            font-size: 0.9em; 
            text-transform: uppercase; 
            letter-spacing: 1px; 
            background: rgba(230, 126, 34, 0.1);
            display: inline-block;
            padding: 3px 10px;
            border-radius: 12px;
        }
        
        .info-section { 
            margin-bottom: 15px; 
            background: rgba(255,255,255,0.05); 
            padding: 15px; 
            border-radius: 8px; 
            border-left: 4px solid var(--accent-blue);
            transition: transform 0.2s;
        }
        
        .info-section:hover { transform: translateX(5px); }
        
        .info-section h3 { 
            color: var(--accent-cyan); 
            margin-bottom: 10px; 
            font-size: 0.95em; 
            display: flex; 
            align-items: center; 
            gap: 10px; 
        }
        
        .info-section p { 
            color: var(--text-secondary); 
            line-height: 1.6; 
            font-size: 0.95em; 
            text-align: justify; 
        }
        
        /* SPECIAL BOXES */
        .tamga-box { 
            background: rgba(231, 76, 60, 0.2); 
            border: 2px solid var(--accent-red); 
            border-radius: 10px; 
            padding: 20px; 
            text-align: center; 
            margin: 15px 0; 
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.2);
        }
        
        .tamga-symbol { font-size: 2.5em; color: var(--accent-yellow); font-weight: bold; margin-bottom: 8px; text-shadow: 0 2px 4px rgba(0,0,0,0.3); }
        .tamga-label { font-size: 0.85em; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 1px; }
        
        .uran-box { 
            background: rgba(46, 204, 113, 0.2); 
            border: 2px solid var(--accent-green); 
            border-radius: 10px; 
            padding: 20px; 
            text-align: center; 
            margin: 15px 0; 
            box-shadow: 0 4px 15px rgba(46, 204, 113, 0.2);
        }
        
        .uran-text { font-size: 1.6em; color: var(--accent-green); font-weight: bold; font-style: italic; margin-bottom: 8px; }
        .uran-label { font-size: 0.85em; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 1px; }
        
        .stats-box { 
            background: rgba(52, 152, 219, 0.15); 
            border: 1px solid var(--accent-blue); 
            border-radius: 8px; 
            padding: 15px; 
            margin: 15px 0; 
            text-align: center; 
        }
        
        .stats-number { font-size: 1.5em; color: var(--accent-yellow); font-weight: bold; margin-bottom: 5px; }

        /* CONTROLS */
        .search-box { position: fixed; top: 90px; left: 20px; z-index: 100; }
        .search-box input { 
            padding: 8px 15px; 
            border-radius: 20px; 
            border: 2px solid var(--accent-blue); 
            background: rgba(0,0,0,0.8); 
            color: white; 
            width: 200px; 
            font-size: 0.9em;
            outline: none;
            transition: all 0.3s;
        }
        .search-box input:focus { border-color: var(--accent-yellow); box-shadow: 0 0 10px rgba(241, 196, 15, 0.3); }
        
        .legend { 
            position: fixed; 
            bottom: 20px; 
            left: 20px; 
            background: rgba(0,0,0,0.9); 
            padding: 15px; 
            border-radius: 10px; 
            font-size: 0.85em; 
            z-index: 100;
            border: 1px solid var(--border-color);
            max-width: 250px;
        }
        
        .legend-item { display: flex; align-items: center; gap: 8px; margin: 5px 0; }
        .legend-color { width: 16px; height: 16px; border-radius: 3px; box-shadow: 0 2px 4px rgba(0,0,0,0.3); }
        
        .close-btn { 
            position: absolute; 
            top: 15px; 
            right: 15px; 
            background: var(--accent-red); 
            border: none; 
            color: white; 
            width: 30px; 
            height: 30px; 
            border-radius: 50%; 
            cursor: pointer; 
            display: none;
            font-size: 1.2em;
            line-height: 1;
            transition: transform 0.2s;
        }
        .close-btn:hover { transform: scale(1.1); background: #c0392b; }

        /* MOBILE */
        @media (max-width: 968px) { 
            header { padding: 0.5rem 1rem; }
            .view-btn { padding: 0.4rem 1rem; font-size: 0.8rem; }
            .info-panel { 
                width: 100%; 
                position: fixed; 
                bottom: 0; 
                left: 0; 
                height: 60vh; 
                transform: translateY(100%); 
                transition: transform 0.3s ease; 
                z-index: 1001;
                border-left: none;
                border-top: 3px solid var(--accent-orange);
            } 
            .info-panel.active { transform: translateY(0); } 
            .close-btn { display: flex; align-items: center; justify-content: center; }
            .search-box { top: 80px; left: 10px; }
            .search-box input { width: 150px; }
            .legend { bottom: 10px; left: 10px; font-size: 0.75em; max-width: 200px; }
            .tree-panel { padding: 10px; }
            .tree-title { font-size: 1.4em; }
        }
        
        .highlight { animation: pulse 2s infinite; border-color: var(--accent-yellow) !important; }
        @keyframes pulse { 
            0% { box-shadow: 0 0 0 0 rgba(241, 196, 15, 0.7); } 
            70% { box-shadow: 0 0 0 10px rgba(241, 196, 15, 0); } 
            100% { box-shadow: 0 0 0 0 rgba(241, 196, 15, 0); } 
        }
        
        /* Loading indicator */
        .loading {
            color: var(--accent-yellow);
            font-size: 1.2em;
            margin-top: 50px;
            text-align: center;
        }
    </style>
</head>
<body>
    <!-- HEADER NAVIGATION -->
    <header>
        <div class="logo">
            <span style="font-size: 2rem;">üå≥</span>
            <h1>–£–†–£–£</h1>
        </div>
        <div class="view-switch">
            <a href="index.html" class="view-btn">üè† –ì–ª–∞–≤–Ω–æ–µ</a>
            <a href="lists.html" class="view-btn">üìã –°–ø–∏—Å–∫–∏</a>
            <a href="scheme.html" class="view-btn active">üå≥ –°—Ö–µ–º–∞</a>
        </div>
    </header>

    <div class="search-box">
        <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ —Ä–æ–¥–∞..." onkeyup="searchNode()">
    </div>

    <div class="container">
        <div class="tree-panel" id="treePanel">
            <h1 class="tree-title">“ö–ê–†–ê“ö–ê–õ–ü–ê“ö –†–£–õ–ê–†–´</h1>
            <div class="tree-subtitle">–¢–æ–ª—ã“õ —à–µ–∂—ñ—Ä–µ - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ —Å—Ö–µ–º–∞</div>
            <div id="loading" class="loading">–ñ“Ø–∫—Ç–µ–ª—É–¥–µ...</div>
            <div class="tree" id="tree" style="display:none;"></div>
        </div>
        
        <div class="info-panel" id="infoPanel">
            <button class="close-btn" onclick="closePanel()">√ó</button>
            <div id="infoContent">
                <div class="info-header">
                    <div class="info-title">“ö–∞—Ä–∞“õ–∞–ª–ø–∞“õ —Ä—É–ª–∞—Ä—ã</div>
                    <div class="info-type">–¢–∞—Ä–∏—Ö–∏ —à–µ–∂—ñ—Ä–µ</div>
                </div>
                <div class="info-section">
                    <h3>üëÜ “ö–∞–ª–∞–π “õ–æ–ª–¥–∞–Ω—É“ì–∞ –±–æ–ª–∞–¥—ã</h3>
                    <p>–ê“ì–∞—à—Ç–∞“ì—ã –∫–µ–∑-–∫–µ–ª–≥–µ–Ω —Ä—É–¥—ã –±–∞—Å—ã“£—ã–∑, –∂”ô–Ω–µ –æ“£ –∂–∞“õ—Ç–∞ —Ç–æ–ª—ã“õ –∞“õ–ø–∞—Ä–∞—Ç (—Ç–∞–º“ì–∞, —É—Ä–∞–Ω, —Ç.–±.) –∫”©—Ä—Å–µ—Ç—ñ–ª–µ–¥—ñ.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="legend">
        <div style="margin-bottom: 8px; color: var(--accent-yellow); font-weight: bold;">–ò–µ—Ä–∞—Ä—Ö–∏—è:</div>
        <div class="legend-item"><div class="legend-color" style="background: #e74c3c;"></div> –•–∞–ª—ã“õ (–ù–∞—Ä–æ–¥)</div>
        <div class="legend-item"><div class="legend-color" style="background: #e67e22;"></div> –ê—Ä—ã—Å</div>
        <div class="legend-item"><div class="legend-color" style="background: #f1c40f;"></div> –ë”©–ª—ñ–º</div>
        <div class="legend-item"><div class="legend-color" style="background: #2ecc71;"></div> “Æ–ª–∫–µ–Ω —Ä—É</div>
        <div class="legend-item"><div class="legend-color" style="background: #3498db;"></div> –†—É / –£—Ä—É—É</div>
        <div class="legend-item"><div class="legend-color" style="background: #9b59b6;"></div> –¢–∏–π—Ä–µ</div>
        <div class="legend-item"><div class="legend-color" style="background: #1abc9c;"></div> –ö”©—à–µ</div>
    </div>

    <script>
// –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö “ö–∞—Ä–∞“õ–∞–ª–ø–∞“õ —Ä—É–ª–∞—Ä—ã
const treeData = {
    id: "root", name: "“ö–ê–†–ê“ö–ê–õ–ü–ê“ö–õ–ê–†", level: 0, type: "—Ö–∞–ª—ã“õ", tamga: "–ê–ª—Ç—ã–Ω –¢–∞—É", uran: "–ê–ª“ì–∞!",
    info: {
        history: "“ö–∞—Ä–∞“õ–∞–ª–ø–∞“õ—Ç–∞—Ä - –û—Ä—Ç–∞ –ê–∑–∏—è–¥–∞“ì—ã —Ç“Ø—Ä–∫—ñ —Ç—ñ–ª–¥–µ—Å —Ö–∞–ª—ã“õ. –ù–µ–≥—ñ–∑–≥—ñ —ç—Ç–Ω–∏–∫–∞–ª—ã“õ “õ“±—Ä—ã–ª—ã–º—ã XVI-XVIII “ì–∞—Å—ã—Ä–ª–∞—Ä–¥–∞ “õ–∞–ª—ã–ø—Ç–∞—Å“õ–∞–Ω. –ù–æ“ì–∞–π –æ—Ä–¥–∞—Å—ã–Ω—ã“£ —ã–¥—ã—Ä–∞—É—ã–Ω–∞–Ω –∫–µ–π—ñ–Ω “õ–∞–ª—ã–ø—Ç–∞—Å“õ–∞–Ω —Ç–∞–π–ø–∞–ª–∞—Ä –æ–¥–∞“ì—ã.",
        origin: "–ù–µ–≥—ñ–∑—ñ –ù–æ“ì–∞–π –æ—Ä–¥–∞—Å—ã, “ö—ã–ø—à–∞“õ, “ö–∞—Ä–ª“±“õ —Ç–∞–π–ø–∞–ª–∞—Ä—ã–Ω–∞–Ω —Ç“±—Ä–∞–¥—ã. –ê—Ç–∞-—Ç–µ–≥—ñ “∞–ª—ã –ñ“Ø–∑–±–µ–Ω –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã.",
        legend: "–ê“£—ã–∑“ì–∞ —Å”ô–π–∫–µ—Å, –∞–ª“ì–∞—à“õ—ã –∫”©—à–ø–µ–Ω–¥—ñ–ª–µ—Ä—ñ “∞–ª—ã —Ç–∞—É ”©“£—ñ—Ä—ñ–Ω–µ–Ω –ê—Ä–∞–ª –º–∞“£—ã–Ω–∞ –∫”©—à—ñ–ø –∫–µ–ª–≥–µ–Ω. '“ö–∞—Ä–∞“õ–∞–ª–ø–∞“õ' –∞—Ç–∞—É—ã '“õ–∞—Ä–∞ “õ–∞–ª–ø–∞“õ' (—á–µ—Ä–Ω–∞—è —à–∞–ø–∫–∞) –∫–∏–≥–µ–Ω —Ö–∞–ª—ã“õ –¥–µ–≥–µ–Ω –º–∞“ì—ã–Ω–∞–¥–∞.",
        tamga: "”ò—Ä —Ä—É–¥—ã“£ ”©–∑—ñ–Ω–µ —Ç”ô–Ω —Ç–∞–º“ì–∞—Å—ã –±–∞—Ä",
        uran: "”ò—Ä —Ä—É–¥—ã“£ ”©–∑—ñ–Ω–µ —Ç”ô–Ω “±—Ä–∞–Ω—ã –±–∞—Ä",
        population: "800 –º—ã“£ –∞–¥–∞–º (XIX “ì–∞—Å—ã—Ä–¥–∞), 2 –º–ª–Ω+ (“õ–∞–∑—ñ—Ä)",
        language: "“ö–∞—Ä–∞“õ–∞–ª–ø–∞“õ —Ç—ñ–ª—ñ - —Ç“Ø—Ä–∫—ñ —Ç—ñ–ª–¥–µ—Ä—ñ–Ω—ñ“£ “õ—ã–ø—à–∞“õ —Ç–∞—Ä–º–∞“ì—ã–Ω–∞ –∂–∞—Ç–∞–¥—ã",
        region: "“ö–∞—Ä–∞“õ–∞–ª–ø–∞“õ—Å—Ç–∞–Ω (”®–∑–±–µ–∫—Å—Ç–∞–Ω), “ö–∞–∑–∞“õ—Å—Ç–∞–Ω, –¢“Ø—Ä–∫—ñ–º–µ–Ω—Å—Ç–∞–Ω, –†–µ—Å–µ–π"
    },
    children: [
        {
            id: "conyrat", name: "–ê–†–´–° “ö–û“¢–´–†–ê–¢", level: 1, type: "–∞—Ä—ã—Å", tamga: "–ü (–±–æ—Å–∞“ì–∞)", uran: "“ö–∞“õ–ø–∞!",
            info: {
                history: "“ö–æ“£—ã—Ä–∞—Ç - “ö–∞—Ä–∞“õ–∞–ª–ø–∞“õ—Ç–∞—Ä–¥—ã“£ –µ–∫—ñ —ñ—Ä—ñ –∞—Ä—ã—Å—ã–Ω—ã“£ –±—ñ—Ä—ñ. –ù–æ“ì–∞–π –æ—Ä–¥–∞—Å—ã–Ω—ã“£ –Ω–µ–≥—ñ–∑—ñ–Ω “õ“±—Ä–∞“ì–∞–Ω —Ç–∞–π–ø–∞–ª–∞—Ä–¥–∞–Ω.",
                origin: "–ù–æ“ì–∞–π–ª—ã“õ, “ö—ã–ø—à–∞“õ —Ç–∞–π–ø–∞–ª–∞—Ä—ã–Ω—ã“£ “õ–æ—Å—ã–Ω–¥—ã—Å—ã. “ö–æ“£—ã—Ä–∞—Ç - “õ—ã–ø—à–∞“õ —Ç–∞–π–ø–∞—Å—ã–Ω—ã“£ –±—ñ—Ä —Ç–∞—Ä–º–∞“ì—ã.",
                legend: "“ö–æ“£—ã—Ä–∞—Ç –∞—Ç–∞—É—ã '“õ–∞–Ω–¥—ã “õ–∞—Ä–∞“õ–∞–ª–ø–∞“õ' –Ω–µ–º–µ—Å–µ '“õ—É–∞—Ç—Ç—ã, –∫“Ø—à—Ç—ñ' –º–∞“ì—ã–Ω–∞—Å—ã–Ω–¥–∞ –∂–æ—Ä–∞–º–∞–ª–¥–∞–Ω–∞–¥—ã.",
                tamga: "–ü ”ô—Ä–ø—ñ - –±–æ—Å–∞“ì–∞ (–µ—Å—Ç—ñ–∫) –ø—ñ—à—ñ–Ω–¥–µ—Å",
                uran: "“ö–∞“õ–ø–∞ - “õ–æ—Ä“ì–∞–Ω, –±–µ–∫—ñ–Ω—ñ—Å –¥–µ–≥–µ–Ω –º–∞“ì—ã–Ω–∞–¥–∞",
                population: "9520 –∫–∏–±–∏—Ç–æ–∫ (40%)",
                structure: "–ï–∫—ñ “Ø–ª–∫–µ–Ω –±”©–ª—ñ–º: –®—É–ª—ã–∫ (8 —Ä—É) –∂”ô–Ω–µ –ñ–∞—É—ã–Ω–≥—ã—Ä (7 —Ä—É)",
                region: "–ê—Ä–∞–ª —Ç–µ“£—ñ–∑—ñ–Ω—ñ“£ —Å–æ–ª—Ç“Ø—Å—Ç—ñ–∫-–±–∞—Ç—ã—Å—ã, –ê–º—É–¥–∞—Ä–∏—è–Ω—ã“£ —Ç”©–º–µ–Ω–≥—ñ –∞“ì—ã—Å—ã"
            },
            children: [
                {
                    id: "shulyk", name: "–®–£–õ–´“ö –ë”®–õI–úI", level: 2, type: "–±”©–ª—ñ–º", tamga: "–®", uran: "–®—É–ª—ã–∫!",
                    info: { 
                        history: "–®—É–ª—ã–∫ - –®—É –∂–∞“ì–∞—Å—ã–Ω–¥–∞ “õ–∞–ª—ã–ø—Ç–∞—Å“õ–∞–Ω —Ä—É–ª–∞—Ä —Ç–æ–±—ã.", 
                        origin: "–®—É ”©–∑–µ–Ω—ñ–Ω—ñ“£ –∞—Ç–∞—É—ã–Ω–∞–Ω.", 
                        population: "5860 –∫–∏–±–∏—Ç–æ–∫",
                        structure: "8 –Ω–µ–≥—ñ–∑–≥—ñ —Ä—É: “ö—ã—è—Ç, –ê—à–∞–º–∞–π–ª—ã, “ö–æ–ª–¥–∞—É–ª—ã, “ö–æ—Å—Ç–∞“£–±–∞–ª—ã, –ë–∞–ª“ì–∞–ª—ã, “ö”ô–Ω–¥–µ–∫–ª—ñ, “ö–∞—Ä–∞–º–æ–π—ã–Ω, –ú“Ø–π—Ç–µ–Ω",
                        region: "–®—É ”©–∑–µ–Ω—ñ –±–æ–π—ã"
                    },
                    children: [
                        {
                            id: "kyat", name: "“ö–´–Ø–¢", level: 3, type: "“Ø–ª–∫–µ–Ω —Ä—É", tamga: "“Æ—à —Ç–∞“£–±–∞", uran: "–ê–ª–∞—Ç–∞—É!",
                            info: { 
                                history: "“ö—ã—è—Ç - –®—É–ª—ã–∫—Ç—ã“£ –µ“£ —ñ—Ä—ñ –∂”ô–Ω–µ —Ç–∞—Ä–∏—Ö–∏ –º–∞“£—ã–∑–¥—ã —Ä—É—ã. –∫”©–Ω–µ –∫”©—à–ø–µ–Ω–¥—ñ —Ç–∞–π–ø–∞.", 
                                origin: "“ö—ã—è—Ç –±–∞—Ç—ã—Ä–¥–∞–Ω —Ç–∞—Ä–∞“ì–∞–Ω.", 
                                legend: "“ö—ã—è—Ç—Ç—ã“£ “Ø—à “±–ª—ã: “Æ—à—Ç–∞“£–±–∞–ª—ã, –¢–∞—Ä–∞“õ—Ç—ã, –ë–∞–ª“ì–∞–ª—ã. –û–ª–∞—Ä–¥–∞–Ω “Ø–ª–∫–µ–Ω —Ä—É–ª–∞—Ä —Ç–∞—Ä–∞“ì–∞–Ω.",
                                population: "870 –∫–∏–±–∏—Ç–æ–∫", 
                                tamga: "“Æ—à —Ç–∞“£–±–∞ (“Ø—à —Å—ã–∑—ã“õ)", 
                                uran: "–ê–ª–∞—Ç–∞—É!",
                                structure: "“Æ—à —ñ—Ä—ñ —Ç–æ–ø: “Æ—à—Ç–∞“£–±–∞–ª—ã, –¢–∞—Ä–∞“õ—Ç—ã, –ë–∞–ª“ì–∞–ª—ã “ö–∏—è—Ç"
                            },
                            children: [
                                {
                                    id: "ush-tambaly", name: "“Æ—à—Ç–∞“£–±–∞–ª—ã", level: 4, type: "—Ä—É", tamga: "|||", uran: "–ê–ª–∞—Ç–∞—É!",
                                    info: { 
                                        history: "“ö—ã—è—Ç—Ç—ã“£ “Ø–ª–∫–µ–Ω “±–ª—ã “Æ—à—Ç–∞“£–±–∞–¥–∞–Ω —Ç–∞—Ä–∞“ì–∞–Ω. “Æ—à —Ç–∞“£–±–∞–ª—ã –¥–µ–ø –∞—Ç–∞–ª—É—ã - “Ø—à –±–µ–ª–≥—ñ, “Ø—à —Ä—É–¥—ã“£ –æ–¥–∞“ì—ã–º–µ–Ω –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã.", 
                                        tamga: "“Æ—à –≤–µ—Ä—Ç–∏–∫–∞–ª–¥—ã —Å—ã–∑—ã“õ", 
                                        uran: "–ê–ª–∞—Ç–∞—É!",
                                        population: "350-400 –æ—Ç–±–∞—Å—ã (XIX “ì.)",
                                        structure: "6 —Ä—É: –°–∞“£–º“±—Ä—ã–Ω, –ê—Ä—ã“õ“õ–∏—è—Ç, –¢–∞—Ä—Ç—É–ª—ã, “ö–∞–Ω–∂—ã“ì–∞–ª—ã, “ö–∞—Ç–∞“ì–∞–Ω, “ö–∞—Ä–∞“õ–∏—è—Ç"
                                    },
                                    children: [
                                        { id: "sanmurun-k", name: "–°–∞“£–º“±—Ä—ã–Ω", level: 5, type: "—Ç–∏–π—Ä–µ", tamga: "–°–ú", ur–∞–Ω: "–ê–ª–∞—Ç–∞—É!", info: { tamga: "–°–ú", uran: "–ê–ª–∞—Ç–∞—É!", history: "–°–∞“£ –º“±—Ä—ã–Ω–¥—ã“õ –º–∞–ª–¥—ã –±–∞“ì—ã–ø ”©—Å–∫–µ–Ω", origin: "–°–∞“£“õ—ã–ª–¥–∞“ì–∞–Ω –º“±—Ä—ã–Ω" } },
                                        { id: "aryq-kyat", name: "–ê—Ä—ã“õ“õ–∏—è—Ç", level: 5, type: "—Ç–∏–π—Ä–µ", tamga: "–ê“ö", ur–∞–Ω: "–ê–ª–∞—Ç–∞—É!", info: { tamga: "–ê“ö", uran: "–ê–ª–∞—Ç–∞—É!", history: "–ê—Ä—ã“õ –¥–µ–Ω–µ–ª—ñ –∞—Ç“õ–∞ –º—ñ–Ω–≥–µ–Ω –±–∞—Ç—ã—Ä–¥–∞–Ω", origin: "–ê—Ä—ã“õ - –∂—ñ“£—ñ—à–∫–µ" } },
                                        { id: "tartuly", name: "–¢–∞—Ä—Ç—É–ª—ã", level: 5, type: "—Ç–∏–π—Ä–µ", tamga: "–¢–†", ur–∞–Ω: "–ê–ª–∞—Ç–∞—É!", info: { tamga: "–¢–†", uran: "–ê–ª–∞—Ç–∞—É!", history: "–¢–∞—Ä—Ç—ã–º–¥—ã, “õ–∞–π—Å–∞—Ä –º—ñ–Ω–µ–∑–¥—ñ —Ö–∞–ª—ã“õ—Ç–∞—Ä", legend: "–¢–∞—Ä—Ç—É–ª—ã –±–∞—Ç—ã—Ä —Ç—É—Ä–∞–ª—ã –∞“£—ã–∑" } },
                                        { id: "qanzhygaly-k", name: "“ö–∞–Ω–∂—ã“ì–∞–ª—ã", level: 5, type: "—Ç–∏–π—Ä–µ", tamga: "“ö–ñ", ur–∞–Ω: "–ê–ª–∞—Ç–∞—É!", info: { tamga: "“ö–ñ", uran: "–ê–ª–∞—Ç–∞—É!", history: "–ñ–µ–±–µ —Å–∞–ø—Ç—ã“ì—ã “õ–∞–Ω–∂—ã“ì–∞—Å—ã–Ω–∞–Ω –∞—Ç–∞–ª“ì–∞–Ω", warrior: "–ú–µ—Ä–≥–µ–Ω–¥—ñ–∫–∫–µ –∞—Ç—ã“õ—Ç—ã" } },
                                        { id: "qatagan", name: "“ö–∞—Ç–∞“ì–∞–Ω", level: 5, type: "—Ç–∏–π—Ä–µ", tamga: "“ö–¢", ur–∞–Ω: "–ê–ª–∞—Ç–∞—É!", info: { tamga: "“ö–¢", uran: "–ê–ª–∞—Ç–∞—É!", history: "–°–æ–ª—Ç“Ø—Å—Ç—ñ–∫ –ñ–µ—Ç—ñ—Å—É –∞–π–º–∞“ì—ã–Ω–∞–Ω –∫”©—à–∫–µ–Ω", origin: "“ö–∞—Ç–∞“ì–∞–Ω - “õ–∞—Ç—Ç—ã, –±–∞—Ç—ã–ª" } },
                                        { id: "qara-kyat", name: "“ö–∞—Ä–∞“õ–∏—è—Ç", level: 5, type: "—Ç–∏–π—Ä–µ", tamga: "“ö“ö", ur–∞–Ω: "–ê–ª–∞—Ç–∞—É!", info: { tamga: "“ö“ö", uran: "–ê–ª–∞—Ç–∞—É!", history: "“ö–∞—Ä–∞“£“ì—ã —Ç“Ø—Å—Ç—ñ –∫–∏—ñ–º –∫–∏–≥–µ–Ω —Ç–æ–ø", origin: "“ö–∞—Ä–∞ - “õ–æ“£—ã—Ä, –∫“Ø“£–≥—ñ—Ä—Ç" } }
                                    ]
                                },
                                {
                                    id: "taraqty", name: "–¢–∞—Ä–∞“õ—Ç—ã", level: 4, type: "—Ä—É", tamga: "–¢–†", ur–∞–Ω: "–ê–ª–∞—Ç–∞—É!",
                                    info: { 
                                        history: "–®–∞—à–∞“õ—Ç—ã, ”©—Ä–Ω–µ–∫—Ç—ñ –∫–∏—ñ–º –∫–∏–≥–µ–Ω –∞—Ç–∞-–±–∞–±–∞–¥–∞–Ω —Ç–∞—Ä–∞“ì–∞–Ω. –°”ô–Ω–¥—ñ –∫–∏—ñ–Ω–µ—Ç—ñ–Ω —Ä—É –¥–µ–ø –∞—Ç–∞–ª“ì–∞–Ω.",
                                        tamga: "–¢–∞—Ä–∞“õ –ø—ñ—à—ñ–Ω–¥–µ—Å –±–µ–ª–≥—ñ", 
                                        ur–∞–Ω: "–ê–ª–∞—Ç–∞—É!",
                                        population: "400+ –æ—Ç–±–∞—Å—ã",
                                        structure: "7 —Ä—É: –¢–æ“ì—ã–∑–∞“õ, –ê–±–∞—Å, –ñ–∞–ª—Ç—ã—Ä—à—ã, –ê“õ“±–Ω“õ–∞—Ä–∞“ì–∞–Ω, –¢–∞“õ–∞–π, “ö–∞—Ä–∂–∞—É–±–∞—Ä–∞—Å, —Ç.–±."
                                    },
                                    children: [
                                        { id: "togyzaq", name: "–¢–æ“ì—ã–∑–∞“õ", level: 5, type: "—Ç–∏–π—Ä–µ", tamga: "–¢9", ur–∞–Ω: "–¢–æ“ì—ã—Å“õ–∞–Ω!", info: { tamga: "–¢9", uran: "–¢–æ“ì—ã—Å“õ–∞–Ω!", history: "–¢–æ“ì—ã–∑ “±—Ä–ø–∞“õ—Ç–∞–Ω –∫–µ–π—ñ–Ω –±”©–ª—ñ–Ω–≥–µ–Ω", origin: "–¢–æ“ì—ã–∑ - —Å–∞–Ω—ã" } },
                                        { id: "abas-kyat", name: "–ê–±–∞—Å", level: 5, type: "—Ç–∏–π—Ä–µ", tamga: "–ê–ë", ur–∞–Ω: "–ê–ª–∞—Ç–∞—É!", info: { tamga: "–ê–ë", uran: "–ê–ª–∞—Ç–∞—É!", history: "–ê–±–∞—Å –±–∞—Ç—ã—Ä –µ—Å—ñ–º—ñ–Ω–µ–Ω", warrior: "–ê–±–∞—Å –±–∞—Ç—ã—Ä - –•VIII “ì–∞—Å—ã—Ä –±–∞—Ç—ã—Ä—ã" } },
                                        { id: "jaltyrshy", name: "–ñ–∞–ª—Ç—ã—Ä—à—ã", level: 5, type: "—Ç–∏–π—Ä–µ", tamga: "–ñ–õ", ur–∞–Ω: "–ê–ª–∞—Ç–∞—É!", info: { tamga: "–ñ–õ", uran: "–ê–ª–∞—Ç–∞—É!", history: "–ñ–∞—Ä“õ—ã–Ω, –∂–∞–ª—Ç—ã–ª–¥–∞“ì–∞–Ω –¥](./../../../../mnt/kimi/upload/image.png)–∞–∫.jet dozens()." } }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
};

// –§—É–Ω–∫—Ü–∏–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –¥–µ—Ä–µ–≤–∞
function buildTree(node, container) {
    try {
        const branch = document.createElement('div');
        branch.className = 'branch';
        
        const nodeEl = document.createElement('div');
        nodeEl.className = 'node level-' + node.level;
        nodeEl.id = 'node-' + node.id;
        
        let htmlContent = '<div class="node-title">' + node.name + '</div>';
        if (node.type) htmlContent += '<div class="node-subtitle">' + node.type + '</div>';
        nodeEl.innerHTML = htmlContent;
        
        nodeEl.onclick = function(e) {
            e.stopPropagation();
            showInfo(node);
        };
        
        branch.appendChild(nodeEl);
        
        if (node.children && node.children.length > 0) {
            const connector = document.createElement('div');
            connector.className = 'connector';
            branch.appendChild(connector);
            
            const childrenContainer = document.createElement('div');
            childrenContainer.className = 'children';
            
            for (let i = 0; i < node.children.length; i++) {
                buildTree(node.children[i], childrenContainer);
            }
            branch.appendChild(childrenContainer);
        }
        
        container.appendChild(branch);
    } catch (error) {
        console.error("Error building tree node:", node, error);
    }
}

function showInfo(node) {
    try {
        // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö —É–∑–ª–æ–≤
        document.querySelectorAll('.node').forEach(n => n.classList.remove('active'));
        
        // –î–æ–±–∞–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–º—É
        const currentNode = document.getElementById('node-' + node.id);
        if (currentNode) currentNode.classList.add('active');
        
        const panel = document.getElementById('infoPanel');
        const content = document.getElementById('infoContent');
        
        if (window.innerWidth <= 968) {
            panel.classList.add('active');
        }
        
        // –ó–∞–≥–æ–ª–æ–≤–æ–∫
        let html = '<div class="info-header">';
        html += '<div class="info-title">' + node.name + '</div>';
        html += '<div class="info-type">' + (node.type || '–†—É–ª—ã“õ –±—ñ—Ä–ª—ñ–∫') + '</div>';
        html += '</div>';
        
        // –¢–∞–º–≥–∞
        const tamga = node.tamga || (node.info && node.info.tamga);
        if (tamga) {
            html += '<div class="tamga-box">';
            html += '<div class="tamga-symbol">' + tamga + '</div>';
            html += '<div class="tamga-label">–¢–ê–ú–ì–ê (–†–æ–¥–æ–≤–æ–µ –∑–Ω–∞–∫)</div>';
            html += '</div>';
        }
        
        // –£—Ä–∞–Ω
        const uran = node.uran || (node.info && node.info.uran);
        if (uran) {
            html += '<div class="uran-box">';
            html += '<div class="uran-text">' + uran + '</div>';
            html += '<div class="uran-label">–£–†–ê–ù (–ë–æ–µ–≤–æ–π –∫–ª–∏—á)</div>';
            html += '</div>';
        }
        
        // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏
        if (node.info) {
            const fields = [
                { key: 'history', icon: 'üìú', title: '–¢–∞—Ä–∏—Ö—ã / –ò—Å—Ç–æ—Ä–∏—è' },
                { key: 'origin', icon: 'üß¨', title: '–¢–µ–≥—ñ / –ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ' },
                { key: 'legend', icon: 'üåü', title: '–ê“£—ã–∑ / –õ–µ–≥–µ–Ω–¥–∞' },
                { key: 'population', icon: 'üë•', title: '–°–∞–Ω—ã / –ß–∏—Å–ª–µ–Ω–Ω–æ—Å—Ç—å' },
                { key: 'structure', icon: 'üèóÔ∏è', title: '“ö“±—Ä—ã–ª—ã–º—ã / –°—Ç—Ä—É–∫—Ç—É—Ä–∞' },
                { key: 'warrior', icon: '‚öîÔ∏è', title: '–ë–∞—Ç—ã—Ä–ª–∞—Ä—ã / –í–æ–∏–Ω—ã' },
                { key: 'region', icon: 'üåç', title: '–ñ–µ—Ä—ñ / –†–µ–≥–∏–æ–Ω' },
                { key: 'language', icon: 'üó£Ô∏è', title: '–¢—ñ–ª—ñ / –Ø–∑—ã–∫' }
            ];
            
            fields.forEach(field => {
                if (node.info[field.key]) {
                    html += '<div class="info-section">';
                    html += '<h3>' + field.icon + ' ' + field.title + '</h3>';
                    html += '<p>' + node.info[field.key] + '</p>';
                    html += '</div>';
                }
            });
        }
        
        // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–≥—Ä—É–ø–ø
        if (node.children && node.children.length > 0) {
            html += '<div class="stats-box">';
            html += '<div class="stats-number">' + node.children.length + '</div>';
            html += '<div>–¢”©–º–µ–Ω–≥—ñ —Ç–æ–ø—Ç–∞—Ä —Å–∞–Ω—ã / –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–≥—Ä—É–ø–ø</div>';
            html += '</div>';
        }
        
        // –£—Ä–æ–≤–µ–Ω—å –∏–µ—Ä–∞—Ä—Ö–∏–∏
        const levels = ['–•–∞–ª—ã“õ / –ù–∞—Ä–æ–¥', '–ê—Ä—ã—Å', '–ë”©–ª—ñ–º', '“Æ–ª–∫–µ–Ω —Ä—É', '–†—É / –£—Ä—É—É', '–¢–∏–π—Ä–µ', '–ö”©—à–µ'];
        html += '<div class="info-section">';
        html += '<h3>üìä –î”ô—Ä–µ–∂–µ / –£—Ä–æ–≤–µ–Ω—å –∏–µ—Ä–∞—Ä—Ö–∏–∏</h3>';
        html += '<p>' + levels[node.level] + ' (' + node.level + ' –¥–µ“£–≥–µ–π)</p>';
        html += '</div>';
        
        content.innerHTML = html;
        
    } catch (error) {
        console.error("Error showing info:", error);
    }
}

function closePanel() {
    document.getElementById('infoPanel').classList.remove('active');
}

function searchNode() {
    try {
        const input = document.getElementById('searchInput').value.toLowerCase();
        const nodes = document.querySelectorAll('.node');
        let found = false;
        
        nodes.forEach(node => {
            node.classList.remove('highlight');
            if (input.length > 0 && node.textContent.toLowerCase().includes(input)) {
                node.classList.add('highlight');
                if (!found) {
                    node.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' });
                    found = true;
                }
            }
        });
    } catch (error) {
        console.error("Error in search:", error);
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', function() {
    try {
        const treeContainer = document.getElementById('tree');
        const loading = document.getElementById('loading');
        
        if (treeData && treeContainer) {
            buildTree(treeData, treeContainer);
            treeContainer.style.display = 'flex';
            if (loading) loading.style.display = 'none';
            console.log("Tree built successfully");
        } else {
            console.error("Tree data or container not found");
        }
    } catch (error) {
        console.error("Error initializing tree:", error);
    }
});
    </script>
</body>
</html>



