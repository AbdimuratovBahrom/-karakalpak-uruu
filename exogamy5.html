<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>“ö–∞—Ä–∞“õ–∞–ª–ø–∞“õ —ç–∫–∑–æ–≥–∞–º–∏—è—Å—ã - –†—É–ª—ã“õ –Ω–µ–∫–µ —Ç–µ–∫—Å–µ—Ä—É</title>
    <style>
        :root {
            --primary-bg: #0f1419;
            --secondary-bg: #1a1f2e;
            --accent-red: #e74c3c;
            --accent-orange: #e67e22;
            --accent-yellow: #f1c40f;
            --gold: #f1c40f;
            --accent-green: #2ecc71;
            --accent-blue: #3498db;
            --accent-purple: #9b59b6;
            --accent-cyan: #1abc9c;
            --text-primary: #ecf0f1;
            --text-secondary: #bdc3c7;
            --border-color: #34495e;
            --success: #27ae60;
            --danger: #c0392b;
            --warning: #f39c12;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%);
            min-height: 100vh;
            color: var(--text-primary);
            overflow-x: hidden;
            padding-top: 80px;
        }

        /* HEADER */
        header {
            position: fixed;
            top: 0; left: 0; right: 0;
            background: rgba(10,12,16,0.95);
            border-bottom: 2px solid var(--gold);
            padding: 1rem 2rem;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
            height: 70px;
        }

        .logo { 
            display: flex; 
            align-items: center; 
            gap: 10px;
        }
        
        .logo h1 { 
            font-family: 'Cormorant Garamond', serif; 
            color: var(--gold); 
            font-size: 1.8rem; 
            margin: 0;
        }
        
        .view-switch {
            display: flex;
            gap: 0.5rem;
            background: rgba(255,255,255,0.1);
            padding: 0.25rem;
            border-radius: 20px;
        }
        
        .view-btn {
            padding: 0.5rem 1.5rem;
            border-radius: 16px;
            border: none;
            background: transparent;
            color: #8892b0;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            font-size: 0.9rem;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .view-btn:hover {
            color: var(--text-primary);
            background: rgba(255,255,255,0.1);
        }
        
        .view-btn.active {
            background: var(--gold);
            color: #000;
            font-weight: 600;
        }

        /* MAIN CONTAINER */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .title-section {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            border: 1px solid var(--border-color);
        }

        .title-section h2 {
            color: var(--accent-yellow);
            font-size: 2em;
            margin-bottom: 10px;
        }

        .title-section p {
            color: var(--text-secondary);
            font-size: 1.1em;
        }

        /* EXOGAMY CHECKER */
        .exogamy-checker {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .exogamy-checker {
                grid-template-columns: 1fr;
            }
        }

        .selector-panel {
            background: var(--secondary-bg);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        .selector-panel::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-orange), var(--accent-yellow));
        }

        .panel-title {
            font-size: 1.3em;
            color: var(--accent-cyan);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .selected-display {
            background: rgba(0,0,0,0.3);
            border: 2px solid var(--accent-blue);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            color: var(--accent-yellow);
            transition: all 0.3s;
        }

        .selected-display.empty {
            color: var(--text-secondary);
            border-color: var(--border-color);
            font-style: italic;
        }

        .clear-btn {
            background: var(--accent-red);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            margin-bottom: 15px;
            transition: all 0.3s;
            display: none;
        }

        .clear-btn:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }

        .clear-btn.visible {
            display: inline-block;
        }

        /* TREE SELECTOR */
        .tree-selector {
            max-height: 400px;
            overflow-y: auto;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            padding: 10px;
        }

        .tree-node {
            margin: 5px 0;
            padding-left: 20px;
        }

        .tree-item {
            padding: 8px 12px;
            margin: 3px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            border: 1px solid transparent;
        }

        .tree-item:hover {
            background: rgba(255,255,255,0.1);
            border-color: var(--accent-blue);
        }

        .tree-item.selected {
            background: rgba(46, 204, 113, 0.2);
            border-color: var(--accent-green);
            color: var(--accent-green);
        }

        .tree-item.disabled {
            opacity: 0.4;
            cursor: not-allowed;
            pointer-events: none;
        }

        .tree-toggle {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--accent-yellow);
            font-size: 0.8em;
        }

        .node-level-0 { margin-left: 0; }
        .node-level-1 { margin-left: 15px; }
        .node-level-2 { margin-left: 30px; }
        .node-level-3 { margin-left: 45px; }
        .node-level-4 { margin-left: 60px; }
        .node-level-5 { margin-left: 75px; }

        .level-badge {
            font-size: 0.7em;
            padding: 2px 6px;
            border-radius: 4px;
            background: var(--accent-blue);
            color: white;
        }

        /* RESULT PANEL */
        .result-panel {
            background: var(--secondary-bg);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin-top: 30px;
            position: relative;
            overflow: hidden;
        }

        .result-panel::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 4px;
        }

        .result-panel.allowed::before {
            background: linear-gradient(90deg, var(--accent-green), #2ecc71);
        }

        .result-panel.forbidden::before {
            background: linear-gradient(90deg, var(--accent-red), #e74c3c);
        }

        .result-panel.pending::before {
            background: linear-gradient(90deg, var(--warning), #f1c40f);
        }

        .result-icon {
            font-size: 4em;
            margin-bottom: 20px;
        }

        .result-title {
            font-size: 2em;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .result-description {
            font-size: 1.1em;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .result-details {
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            text-align: left;
        }

        .result-details h4 {
            color: var(--accent-cyan);
            margin-bottom: 10px;
        }

        .result-details ul {
            list-style: none;
            padding: 0;
        }

        .result-details li {
            padding: 5px 0;
            padding-left: 20px;
            position: relative;
        }

        .result-details li::before {
            content: '‚Ä¢';
            position: absolute;
            left: 0;
            color: var(--accent-yellow);
        }

        .allowed .result-icon { color: var(--accent-green); }
        .allowed .result-title { color: var(--accent-green); }
        
        .forbidden .result-icon { color: var(--accent-red); }
        .forbidden .result-title { color: var(--accent-red); }
        
        .pending .result-icon { color: var(--warning); }
        .pending .result-title { color: var(--warning); }

        /* INFO SECTION */
        .info-section {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
            border: 1px solid var(--border-color);
        }

        .info-section h3 {
            color: var(--accent-yellow);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .rules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .rule-card {
            background: rgba(0,0,0,0.2);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--accent-blue);
        }

        .rule-card h4 {
            color: var(--accent-cyan);
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        .rule-card p {
            color: var(--text-secondary);
            font-size: 0.9em;
            line-height: 1.5;
        }

        .rule-card.allowed { border-left-color: var(--accent-green); }
        .rule-card.forbidden { border-left-color: var(--accent-red); }
        .rule-card.warning { border-left-color: var(--warning); }

        /* COLLAPSE BUTTONS */
        .collapse-all, .expand-all {
            background: var(--accent-purple);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8em;
            margin-left: 10px;
            transition: all 0.3s;
        }

        .collapse-all:hover, .expand-all:hover {
            background: #8e44ad;
        }

        /* SCROLLBAR */
        .tree-selector::-webkit-scrollbar {
            width: 8px;
        }

        .tree-selector::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.2);
            border-radius: 4px;
        }

        .tree-selector::-webkit-scrollbar-thumb {
            background: var(--accent-blue);
            border-radius: 4px;
        }

        /* ANIMATION */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .checking {
            animation: pulse 1s infinite;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <span style="font-size: 2rem;">üíë</span>
            <h1>–≠–ö–ó–û–ì–ê–ú–ò–Ø</h1>
        </div>
        <div class="view-switch">
            <a href="index.html" class="view-btn" target="_self">üè† –ì–ª–∞–≤–Ω–æ–µ</a>
            <a href="lists.html" class="view-btn" target="_self">üìã –°–ø–∏—Å–∫–∏</a>
            <a href="scheme.html" class="view-btn" target="_self">üå≥ –°—Ö–µ–º–∞</a>
            <a href="exogamy.html" class="view-btn active" target="_self">üíë –≠–∫–∑–æ–≥–∞–º–∏—è</a>
        </div>
    </header>

    <div class="container">
        <div class="title-section">
            <h2>“ö–∞—Ä–∞“õ–∞–ª–ø–∞“õ —Ä—É–ª—ã“õ —ç–∫–∑–æ–≥–∞–º–∏—è—Å—ã</h2>
            <p>–¢–µ–∫—Å–µ—Ä—É “õ“±—Ä–∞–ª—ã / –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–¥–æ–≤–æ–π –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –±—Ä–∞–∫–∞</p>
        </div>

        <div class="exogamy-checker">
            <!-- Groom Selection -->
            <div class="selector-panel">
                <div class="panel-title">
                    ü§µ –ö“Ø–π–µ—É –∂—ñ–≥—ñ—Ç / –ñ–µ–Ω–∏—Ö
                    <button class="collapse-all" onclick="collapseAll('groom')">–°–≤–µ—Ä–Ω—É—Ç—å</button>
                    <button class="expand-all" onclick="expandAll('groom')">–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å</button>
                </div>
                <div id="groomDisplay" class="selected-display empty">–¢–∞“£–¥–∞“£—ã–∑ / –í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–¥</div>
                <button class="clear-btn" id="groomClear" onclick="clearSelection('groom')">‚ùå –¢–∞–∑–∞–ª–∞—É / –û—á–∏—Å—Ç–∏—Ç—å</button>
                <div id="groomTree" class="tree-selector"></div>
            </div>

            <!-- Bride Selection -->
            <div class="selector-panel">
                <div class="panel-title">
                    üë∞ –ö–µ–ª—ñ–Ω / –ù–µ–≤–µ—Å—Ç–∞
                    <button class="collapse-all" onclick="collapseAll('bride')">–°–≤–µ—Ä–Ω—É—Ç—å</button>
                    <button class="expand-all" onclick="expandAll('bride')">–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å</button>
                </div>
                <div id="brideDisplay" class="selected-display empty">–¢–∞“£–¥–∞“£—ã–∑ / –í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–¥</div>
                <button class="clear-btn" id="brideClear" onclick="clearSelection('bride')">‚ùå –¢–∞–∑–∞–ª–∞—É / –û—á–∏—Å—Ç–∏—Ç—å</button>
                <div id="brideTree" class="tree-selector"></div>
            </div>
        </div>

        <!-- Result Panel -->
        <div id="resultPanel" class="result-panel pending">
            <div class="result-icon">‚è≥</div>
            <div class="result-title">–¢–∞“£–¥–∞—É –∫“Ø—Ç—ñ–ª—É–¥–µ / –û–∂–∏–¥–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞</div>
            <div class="result-description">
                –ï–∫—ñ –∂–∞“õ—Ç—ã —Ç–∞“£–¥–∞“ì–∞–Ω–Ω–∞–Ω –∫–µ–π—ñ–Ω –Ω–µ–∫–µ–Ω—ñ“£ –º“Ø–º–∫—ñ–Ω–¥—ñ–≥—ñ —Ç–µ–∫—Å–µ—Ä—ñ–ª–µ–¥—ñ<br>
                –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—Ä–∞–∫–∞
            </div>
            <div class="result-details" id="resultDetails" style="display: none;"></div>
        </div>

        <!-- Info Section -->
        <div class="info-section">
            <h3>üìö –≠–∫–∑–æ–≥–∞–º–∏—è –µ—Ä–µ–∂–µ–ª–µ—Ä—ñ / –ü—Ä–∞–≤–∏–ª–∞ —ç–∫–∑–æ–≥–∞–º–∏–∏</h3>
            <div class="rules-grid">
                <div class="rule-card forbidden">
                    <h4>‚ùå –¢—ã–π—ã–º —Å–∞–ª—ã–Ω“ì–∞–Ω / –ó–∞–ø—Ä–µ—â–µ–Ω–æ</h4>
                    <p>–ë—ñ—Ä —Ä—É–¥—ã“£, —Ç–∏–π—Ä–µ–Ω—ñ“£ –Ω–µ–º–µ—Å–µ –∫”©—à–µ–Ω—ñ“£ —ñ—à—ñ–Ω–¥–µ –Ω–µ–∫–µ “õ“±—Ä—É. –ë“±–ª –∏–Ω—Ü–µ—Å—Ç –±–æ–ª—ã–ø —Å–∞–Ω–∞–ª–∞–¥—ã.</p>
                    <p><em>–ë—Ä–∞–∫ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ —Ä–æ–¥–∞, —Ç–∏–π—Ä–µ –∏–ª–∏ –∫–æ—à–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∏–Ω—Ü–µ—Å—Ç–æ–º.</em></p>
                </div>
                <div class="rule-card warning">
                    <h4>‚ö†Ô∏è –®–∞—Ä—Ç—Ç—ã —Ç“Ø—Ä–¥–µ / –£—Å–ª–æ–≤–Ω–æ</h4>
                    <p>–ë—ñ—Ä –±”©–ª—ñ–º–Ω—ñ“£ (–®—É–ª—ã–∫ –Ω–µ–º–µ—Å–µ –ñ–∞—É—ã–Ω–≥—ã—Ä) —ñ—à—ñ–Ω–¥–µ, –±—ñ—Ä–∞“õ ”ô—Ä—Ç“Ø—Ä–ª—ñ —Ä—É–ª–∞—Ä–¥–∞–Ω.</p>
                    <p><em>–í–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ (–®—É–ª—ã–∫ –∏–ª–∏ –ñ–∞—É—ã–Ω–≥—ã—Ä), –Ω–æ —Ä–∞–∑–Ω—ã—Ö —Ä—É–æ–≤.</em></p>
                </div>
                <div class="rule-card allowed">
                    <h4>‚úÖ –†“±“õ—Å–∞—Ç –µ—Ç—ñ–ª–≥–µ–Ω / –†–∞–∑—Ä–µ—à–µ–Ω–æ</h4>
                    <p>”ò—Ä—Ç“Ø—Ä–ª—ñ –∞—Ä—ã—Å—Ç–∞—Ä–¥–∞–Ω (“ö–æ“£—ã—Ä–∞—Ç –∂”ô–Ω–µ –û–Ω —Ç”©—Ä—Ç —Ä—É—É) –Ω–µ–º–µ—Å–µ –±”©–ª–µ–∫ —Ä—É–ª–∞—Ä–¥–∞–Ω.</p>
                    <p><em>–ò–∑ —Ä–∞–∑–Ω—ã—Ö –∞rys–æ–≤ –∏–ª–∏ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ —Ä–∞–∑–Ω—ã—Ö —Ä—É–æ–≤.</em></p>
                </div>
                <div class="rule-card allowed">
                    <h4>üí° “Æ–∑–¥—ñ–∫ –Ω“±—Å“õ–∞ / –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç</h4>
                    <p>–¢–æ–ª—ã“ì—ã–º–µ–Ω –±”©–ª–µ–∫ —Ç–∞–π–ø–∞–ª–∞—Ä–¥–∞–Ω, –º—ã—Å–∞–ª—ã “ö–æ“£—ã—Ä–∞—Ç—Ç–∞–Ω “ö—ã—Ç–∞–π“ì–∞ –Ω–µ–º–µ—Å–µ –∫–µ—Ä—ñ—Å—ñ–Ω—à–µ.</p>
                    <p><em>–°–æ–≤–µ—Ä—à–µ–Ω–Ω–æ —Ä–∞–∑–Ω—ã–µ –ø–ª–µ–º–µ–Ω–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä –ö–æ–Ω—ã—Ä–∞—Ç –∏ –ö–∏—Ç–∞–π.</em></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä—É–ª–æ–≤ —Å —Ä–æ–¥–æ—Å–ª–æ–≤–Ω–æ–π
        const tribeData = {
            id: "root", name: "“ö–ê–†–ê“ö–ê–õ–ü–ê“ö–õ–ê–†", level: 0, type: "–Ω–∞—Ä–æ–¥",
            children: [
                {
                    id: "conyrat", name: "–ê–†–´–° “ö–û“¢–´–†–ê–¢", level: 1, type: "–∞—Ä—ã—Å", tamga: "–ü (–±–æ—Å–∞“ì–∞)", uran: "“ö–∞“õ–ø–∞",
                    children: [
                        {
                            id: "shulyk", name: "–®–£–õ–´“ö –ë”®–õI–úI", level: 2, type: "–±”©–ªi–º",
                            children: [
                                {
                                    id: "kyat", name: "“ö–´–Ø–¢", level: 3, type: "“Ø–ª–∫–µ–Ω —É—Ä—É—É", tamga: "“Æ—à —Ç–∞“£–±–∞", uran: "–ê–ª–∞—Ç–∞—É",
                                    children: [
                                        {
                                            id: "ush-tambaly", name: "“Æ—à—Ç–∞“£–±–∞–ª—ã", level: 4, type: "—Ç–∏–π—Ä–µ",
                                            children: [
                                                { id: "sanmurun-k", name: "–°–∞“£–º“±—Ä—ã–Ω", level: 5, type: "–∫”©—à–µ" },
                                                { id: "aryq-kyat", name: "–ê—Ä—ã“õ“õ–∏—è—Ç", level: 5, type: "–∫”©—à–µ" },
                                                { id: "tartuly", name: "–¢–∞—Ä—Ç—É–ª—ã", level: 5, type: "–∫”©—à–µ" },
                                                { id: "qanzhygaly-k", name: "“ö–∞–Ω–∂—ã“ì–∞–ª—ã", level: 5, type: "–∫”©—à–µ" },
                                                { id: "qatagan", name: "“ö–∞—Ç–∞“ì–∞–Ω", level: 5, type: "–∫”©—à–µ" },
                                                { id: "qara-kyat", name: "“ö–∞—Ä–∞“õ–∏—è—Ç", level: 5, type: "–∫”©—à–µ" }
                                            ]
                                        },
                                        {
                                            id: "taraqty", name: "–¢–∞—Ä–∞“õ—Ç—ã", level: 4, type: "—Ç–∏–π—Ä–µ",
                                            children: [
                                                { id: "togyzaq", name: "–¢–æ“ì—ã–∑–∞“õ", level: 5, type: "–∫”©—à–µ" },
                                                { id: "abas-kyat", name: "–ê–±–∞—Å", level: 5, type: "–∫”©—à–µ" },
                                                { id: "jaltyrshy", name: "–ñ–∞–ª—Ç—ã—Ä—à—ã", level: 5, type: "–∫”©—à–µ" },
                                                { id: "aqunqaragan", name: "–ê“õ“±–Ω“õ–∞—Ä–∞“ì–∞–Ω", level: 5, type: "–∫”©—à–µ" },
                                                { id: "taqay", name: "–¢–∞“õ–∞–π", level: 5, type: "–∫”©—à–µ" },
                                                { id: "qarzhaubaras", name: "“ö–∞—Ä–∂–∞—É–±–∞—Ä–∞—Å", level: 5, type: "–∫”©—à–µ" }
                                            ]
                                        },
                                        {
                                            id: "balgaly-kyat", name: "–ë–∞–ª“ì–∞–ª—ã “ö–∏—è—Ç", level: 4, type: "—Ç–∏–π—Ä–µ",
                                            children: [
                                                { id: "bespishaq", name: "–ë–µ—Å–ø—ã—à–∞“õ", level: 5, type: "–∫”©—à–µ" },
                                                { id: "etekshi", name: "–ï—Ç–µ–∫—à—ñ", level: 5, type: "–∫”©—à–µ" },
                                                { id: "sanmurun-bk", name: "–°–∞“£–º“±—Ä—ã–Ω", level: 5, type: "–∫”©—à–µ" },
                                                { id: "qozhaqaragan", name: "“ö–æ–∂–∞“õ–∞—Ä–∞“ì–∞–Ω", level: 5, type: "–∫”©—à–µ" }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    id: "ashamayly", name: "–ê–®–ê–ú–ê–ô–õ–´", level: 3, type: "—É—Ä—É—É", tamga: "–ê–®", ur–∞–Ω: "–®—É–ª—ã–∫",
                                    children: [
                                        { id: "saqu", name: "–°–∞“õ—É", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "qaraqoja", name: "“ö–∞—Ä–∞“õ–æ–∂–∞", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "jalangayaq", name: "–ñ–∞–ª–∞“£–∞—è“õ", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "ajyldy", name: "–ê–π—ã–ª–¥—ã", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        {
                                            id: "qobasan", name: "“ö–æ–±–∞—Å–∞–Ω", level: 4, type: "—Ç–∏–π—Ä–µ",
                                            children: [
                                                { id: "aqnazar", name: "–ê“õ–Ω–∞–∑–∞—Ä", level: 5, type: "–∫”©—à–µ" },
                                                { id: "jansary", name: "–ñ–∞–Ω—Å–∞—Ä—ã", level: 5, type: "–∫”©—à–µ" },
                                                { id: "otemis-q", name: "”®—Ç–µ–º—ñ—Å", level: 5, type: "–∫”©—à–µ" },
                                                { id: "esen", name: "–ï—Å–µ–Ω", level: 5, type: "–∫”©—à–µ" },
                                                { id: "tampysh", name: "–¢–∞–º–ø—ã—à", level: 5, type: "–∫”©—à–µ" }
                                            ]
                                        },
                                        { id: "turkmenqara", name: "–¢“Ø—Ä–∫—ñ–º–µ–Ω“õ–∞—Ä–∞", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "jappar", name: "–ñ–∞–ø–ø–∞—Ä", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "sary-ash", name: "–°–∞—Ä—ã", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "abyz-ash", name: "–ê–±—ã–∑", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "aqay", name: "–ê“õ–∞–π", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "pangqara", name: "–ü–∞“£“õ–∞—Ä–∞", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        {
                                            id: "ush-bas", name: "“Æ—à –±–∞—Å", level: 4, type: "—Ç–∏–π—Ä–µ",
                                            children: [{ id: "jaman-ub", name: "–ñ–∞–º–∞–Ω", level: 5, type: "–∫”©—à–µ" }]
                                        },
                                        { id: "qurama", name: "“ö“±—Ä–∞–º–∞", level: 4, type: "—Ç–∏–π—Ä–µ" }
                                    ]
                                },
                                {
                                    id: "koldauli", name: "“ö–û–õ–î–ê–£–õ–´", level: 3, type: "—É—Ä—É—É", tamga: "“ö–õ–î", ur–∞–Ω: "“ö–æ–ª–¥–∞—É",
                                    children: [
                                        { id: "beskempir", name: "–ë–µ—Å–∫–µ–º–ø—ñ—Ä", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "maishyshaly", name: "–ú–∞–π—à—ã—à–∞–ª—ã", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "qalqaman", name: "“ö–∞–ª“õ–∞–º–∞–Ω", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "ghajypqaragan", name: "“í–∞–π—ã–ø“õ–∞—Ä–∞“ì–∞–Ω", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "sarytan-k", name: "–°–∞—Ä—ã—Ç–∞–Ω", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "kulkiqozhaq", name: "–ö“Ø–ª–∫—ñ“õ–æ–∂–∞“õ", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "jarymbet", name: "–ñ–∞—Ä—ã–º–±–µ—Ç", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "qyzylayaq", name: "“ö—ã–∑—ã–ª–∞—è“õ", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "karasiraq-k", name: "“ö–∞—Ä–∞—Å–∏—Ä–∞“õ", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "jelqaragan", name: "–ñ–µ–ª“õ–∞—Ä–∞“ì–∞–Ω", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "ulkenborik", name: "“Æ–ª–∫–µ–Ω–±”©—Ä—ñ–∫", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "shylzhuyt", name: "–®—ã–ª–∂—É—ã—Ç", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "jamanqonyrat", name: "–ñ–∞–º–∞–Ω“õ–æ“£—ã—Ä–∞—Ç", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        {
                                            id: "kalmaq", name: "“ö–∞–ª–º–∞“õ", level: 4, type: "—Ç–∏–π—Ä–µ",
                                            children: [
                                                { id: "adil", name: "”ò–¥—ñ–ª", level: 5, type: "–∫”©—à–µ" },
                                                { id: "ereke", name: "–ï—Ä–µ–∫–µ", level: 5, type: "–∫”©—à–µ" }
                                            ]
                                        },
                                        { id: "jaman-aul", name: "–ñ–∞–º–∞–Ω –∞—É—ã–ª", level: 4, type: "—Ç–∏–π—Ä–µ" }
                                    ]
                                },
                                {
                                    id: "kostambali", name: "“ö–û–°–¢–ê“¢–ë–ê–õ–´", level: 3, type: "—É—Ä—É—É", tamga: "II", ur–∞–Ω: "“ö–æ—Å“õ–∞",
                                    children: [
                                        { id: "jangildi-k", name: "–ñ–∞–Ω–≥–µ–ª–¥—ñ", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "shirzhegen", name: "–®—ñ—Ä–∂–µ–≥–µ–Ω", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "aghabegli", name: "–ê“ì–∞–±–µ–≥–ª—ñ", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "qarynzhuan", name: "“ö–∞—Ä—ã–Ω–∂—É–∞–Ω", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "kostambali-k", name: "“ö–æ—Å—Ç–∞“£–±–∞–ª—ã", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "qaraqursaq-k", name: "“ö–∞—Ä–∞“õ“±—Ä—Å–∞“õ", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "qazaqy-k", name: "“ö–∞–∑–∞“õ—ã", level: 4, type: "—Ç–∏–π—Ä–µ" }
                                    ]
                                },
                                {
                                    id: "balgali", name: "–ë–ê–õ“í–ê–õ–´", level: 3, type: "—É—Ä—É—É", tamga: "–ë", ur–∞–Ω: "–ë–∞–ª“ì–∞",
                                    children: [
                                        { id: "aqbalgali", name: "–ê“õ–±–∞–ª“ì–∞–ª—ã", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "nurbalgali", name: "–ù“±—Ä–±–∞–ª“ì–∞–ª—ã", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "turkmen-b", name: "–¢“Ø—Ä–∫—ñ–º–µ–Ω", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "jamanaul-b", name: "–ñ–∞–º–∞–Ω–∞—É—ã–ª", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "shomishti", name: "–®”©–º—ñ—à—Ç—ñ", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "toqymbet", name: "–¢–æ“õ—ã–º–±–µ—Ç", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "tazbalgali", name: "–¢–∞–∑–±–∞–ª“ì–∞–ª—ã", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "kostamgali-b", name: "“ö–æ—Å—Ç–∞–º“ì–∞–ª—ã", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "qaratalshy", name: "“ö–∞—Ä–∞—Ç–∞–ª—à—ã", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "asan", name: "–ê—Å–∞–Ω", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "arzyqul", name: "–ê—Ä–∑—ã“õ“±–ª", level: 4, type: "—Ç–∏–π—Ä–µ" }
                                    ]
                                },
                                {
                                    id: "kandekli", name: "“ö”ò–ù–î–ï–ö–õ–Ü", level: 3, type: "—É—Ä—É—É", tamga: "–ì", ur–∞–Ω: "–ö”©–Ω–¥–µ–∫",
                                    children: [
                                        { id: "qarama-kan", name: "“ö–∞—Ä–∞–º–∞", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "kiikshi", name: "–ö–∏—ñ–∫—à—ñ", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "toqbolat-kan", name: "–¢–æ“õ–±–æ–ª–∞—Ç", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "qyryqsadaq", name: "“ö—ã—Ä—ã“õ—Å–∞–¥–∞“õ", level: 4, type: "—Ç–∏–π—Ä–µ" }
                                    ]
                                },
                                {
                                    id: "karamoiyn", name: "“ö–ê–†–ê–ú–û–ô–´–ù", level: 3, type: "—É—Ä—É—É", tamga: "–¢–ú", ur–∞–Ω: "–ú–æ–π—ã–Ω",
                                    children: [
                                        { id: "annakhoja", name: "–ê–Ω–Ω–∞—Ö–æ–∂–∞", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "sabalaq", name: "–°–∞–±–∞–ª–∞“õ", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "kotelek", name: "–ö”©—Ç–µ–ª–µ–∫", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "qarlymaral", name: "“ö–∞—Ä–ª—ã–º–∞—Ä–∞–ª", level: 4, type: "—Ç–∏–π—Ä–µ" },
                                        { id: "bulkildek", name: "–ë“Ø–ª–∫—ñ–ª–¥–µ–∫", level: 4, type: "—Ç–∏–π—Ä–µ" }
                                    ]
                                },
                                {
                                    id: "muyten", name: "–ú“Æ–ô–¢–ï–ù", level: 3, type: "—É—Ä—É—É", tamga: "“Æ—à —à–∞–Ω—ã—à“õ—ã", ur–∞–Ω: "–ê“õ—à–æ–ª–ø–∞–Ω",
                                    children: [
                                        {
                                            id: "samat", name: "–°–∞–º–∞—Ç (5)", level: 4, type: "—Ç–∏–π—Ä–µ",
                                            children: [
                                                { id: "baibishe", name: "–ë”ô–π–±—ñ—à–µ", level: 5, type: "–∫”©—à–µ" },
                                                { id: "toqqaragan", name: "–¢–æ“õ–∞–ª“õ–∞—Ä–∞“ì–∞–Ω", level: 5, type: "–∫”©—à–µ" },
                                                { id: "baimurat", name: "–ë–∞–π–º“±—Ä–∞—Ç", level: 5, type: "–∫”©—à–µ" },
                                                { id: "jolan", name: "–ñ–æ–ª–∞–Ω", level: 5, type: "–∫”©—à–µ" },
                                                { id: "bekau", name: "–ë–µ–∫–∞—É", level: 5, type: "–∫”©—à–µ" }
                                            ]
                                        },
                                        {
                                            id: "teli", name: "–¢–µ–ª–∏ (5)", level: 4, type: "—Ç–∏–π—Ä–µ",
                                            children: [
                                                { id: "tileuberdi", name: "–¢—ñ–ª–µ—É–±–µ—Ä–¥—ñ", level: 5, type: "–∫”©—à–µ" },
                                                { id: "allaberdi", name: "–ê–ª–ª–∞–±–µ—Ä–¥—ñ", level: 5, type: "–∫”©—à–µ" },
                                                { id: "tangirberdi", name: "–¢…ô“£—ñ—Ä–±–µ—Ä–¥—ñ", level: 5, type: "–∫”©—à–µ" },
                                                { id: "mantyqaragan", name: "–ú–∞–Ω—Ç—ã“õ“õ–∞—Ä–∞“ì–∞–Ω", level: 5, type: "–∫”©—à–µ" },
                                                { id: "molloqaragan", name: "–ú–æ–ª–ª–∞“õ–∞—Ä–∞“ì–∞–Ω", level: 5, type: "–∫”©—à–µ" }
                                            ]
                                        },
                                        {
                                            id: "abyz-m", name: "–ê–±—ã–∑", level: 4, type: "—Ç–∏–π—Ä–µ",
                                            children: [{ id: "ady", name: "–ê–¥—ã", level: 5, type: "–∫”©—à–µ" }]
                                        },
                                        {
                                            id: "kentanau", name: "–ö–µ“£—Ç–∞–Ω–∞—û (3)", level: 4, type: "—Ç–∏–π—Ä–µ",
                                            children: [
                                                { id: "barn", name: "–ë–∞—Ä–Ω", level: 5, type: "–∫”©—à–µ" },
                                                { id: "itaq", name: "–ò—Ç–∞“õ", level: 5, type: "–∫”©—à–µ" },
                                                { id: "jekensal", name: "–ñ–µ–∫–µ–Ω—Å–∞–ª", level: 5, type: "–∫”©—à–µ" }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            id: "jauyngyr", name: "–ñ–ê–£–´–ù–ì–´–† –ë”®–õI–úI", level: 2, type: "–±”©–ªi–º",
                            children: [
                                { id: "teristambaly", name: "–¢–ï–†I–°–¢–ê“¢–ë–ê–õ–´", level: 3, type: "—É—Ä—É—É", tamga: "–¢", ur–∞–Ω: "–ñ–∞—É—ã–Ω–≥—ã—Ä", children: [{id:"shomak",name:"–®–æ–º–∞“õ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"hangildi",name:"–•–∞–Ω–≥–µ–ª–¥—ñ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"baiqaragan",name:"–ë–∞–π“õ–∞—Ä–∞“ì–∞–Ω",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"elshibai",name:"–ï–ª—à—ñ–±–∞–π",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"qurban-t",name:"“ö“±—Ä–±–∞–Ω",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"togai",name:"–¢–æ“ì—ã–∑",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"tyle",name:"–¢—ñ–ª–µ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"tebegen",name:"–¢–µ–±–µ–≥–µ–Ω",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"tum",name:"–¢—É–º",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"tyrk",name:"–¢“Ø—Ä–∫—ñ—Å—Ç–∞–Ω",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "bakanly", name: "–ë–ê“ö–ê–ù–õ–´", level: 3, type: "—É—Ä—É—É", tamga: "–ë", ur–∞–Ω: "–ñ–∞—É—ã–Ω–≥—ã—Ä", children: [{id:"tanmail-b",name:"–¢–∞“£–º–∞–π—ã–ª",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"zhananai",name:"–ñ–∞“õ–∞–Ω–∞–π",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"naiman-b",name:"–ù–∞–π–º–∞–Ω",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"aiys-b",name:"–ê–π—ã—Å",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "tyekli", name: "–¢I–ï–ö–¢I", level: 3, type: "—É—Ä—É—É", tamga: "–¢–ö", ur–∞–Ω: "–ñ–∞—É—ã–Ω–≥—ã—Ä", children: [{id:"shishi-t",name:"–®–∏—à—ñ",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"shishi-kosh",name:"–®–∏—à—ñ",level:5,type:"–∫”©—à–µ"}]},{id:"tumanai-t",name:"–¢—É–º–∞–Ω–∞–π",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"tumanai-kosh",name:"–¢—É–º–∞–Ω–∞–π",level:5,type:"–∫”©—à–µ"}]},{id:"maulik-t",name:"–ú”ô—É–ª–∏–∫",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"maulik-kosh",name:"–ú”ô—É–ª–∏–∫",level:5,type:"–∫”©—à–µ"}]},{id:"bairam-t",name:"–ë–∞–π—Ä–∞–º",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"bairam-kosh",name:"–ë–∞–π—Ä–∞–º",level:5,type:"–∫”©—à–µ"}]}] },
                                { id: "yrgaqty", name: "–´–†“í–ê“ö–¢–´", level: 3, type: "—É—Ä—É—É", tamga: "–´", ur–∞–Ω: "–ñ–∞—É—ã–Ω–≥—ã—Ä", children: [{id:"atanai-y",name:"–ê—Ç–∞–Ω–∞–π",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"atanai-kosh",name:"–ê—Ç–∞–Ω–∞–π",level:5,type:"–∫”©—à–µ"}]},{id:"eshkili-y",name:"–ï—à–∫—ñ–ª—ñ",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"eshkili-kosh",name:"–ï—à–∫—ñ–ª—ñ",level:5,type:"–∫”©—à–µ"}]},{id:"baibura-y",name:"–ë–∞–π–±—É—Ä–∞",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"baibura-kosh",name:"–ë–∞–π–±—É—Ä–∞",level:5,type:"–∫”©—à–µ"}]},{id:"sarytan-y",name:"–°–∞—Ä—ã—Ç–∞–Ω",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"sarytan-kosh",name:"–°–∞—Ä—ã—Ç–∞–Ω",level:5,type:"–∫”©—à–µ"}]}] },
                                { id: "baimaqty", name: "–ë–ê–ô–ú–ê“ö–¢–´", level: 3, type: "—É—Ä—É—É", tamga: "–ë–ú", ur–∞–Ω: "–ñ–∞—É—ã–Ω–≥—ã—Ä", children: [{id:"saspaq",name:"–°–∞—Å–ø–∞“õ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"uies",name:"“Æ–π–µ—Å",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"tanmail-bm",name:"–¢–∞“£–º–∞–π—ã–ª",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"zhananai-bm",name:"–ñ–∞“õ–∞–Ω–∞–π",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"naiman-bm",name:"–ù–∞–π–º–∞–Ω",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"aiys-bm",name:"–ê–π—ã—Å",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "kazayakty", name: "“ö–ê–ó–ê–Ø“ö–¢–´", level: 3, type: "—É—Ä—É—É", tamga: "“ö–ó", ur–∞–Ω: "–ñ–∞—É—ã–Ω–≥—ã—Ä", children: [{id:"anetai",name:"”ò–Ω–µ—Ç–∞–π",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"zharimbet-k",name:"–ñ”ô—Ä—ñ–º–±–µ—Ç",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"zhundi",name:"–ñ“Ø–Ω–¥—ñ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"sadaq",name:"–°–∞–¥–∞“õ",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "uygyr", name: "“∞–ô“í–´–†", level: 3, type: "—É—Ä—É—É", tamga: "“∞", ur–∞–Ω: "–ñ–∞—É—ã–Ω–≥—ã—Ä", children: [{id:"shishi-u",name:"–®–∏—à—ñ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"tumanai-u",name:"–¢—É–º–∞–Ω–∞–π",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"sabalaq-u",name:"–°–∞–±–∞–ª–∞“õ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"maulik-u",name:"–ú”ô—É–ª–∏–∫",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"bairam-u",name:"–ë–∞–π—Ä–∞–º",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"syrgaly",name:"–°—ã—Ä“ì–∞–ª—ã",level:4,type:"—Ç–∏–π—Ä–µ"}] }
                            ]
                        }
                    ]
                },
                {
                    id: "onTort", name: "–ê–†–´–° –û–ù –¢”®–†–¢ –†–£–£", level: 1, type: "–∞—Ä—ã—Å",
                    children: [
                        {
                            id: "kytaƒ±", name: "“ö–´–¢–ê–ô", level: 2, type: "“Ø–ª–∫–µ–Ω —É—Ä—É—É", tamga: "Q", ur–∞–Ω: "–£–ª–ª—ã —Ç–∞—û",
                            children: [
                                { id: "bessary", name: "–ë–ï–°–°–ê–†–´", level: 3, type: "—É—Ä—É—É", tamga: "–ë–°", ur–∞–Ω: "–£–ª–ª—ã —Ç–∞—û", children: [{id:"zhunli",name:"–ñ“Ø–Ω–ª–∏",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"qoyly",name:"“ö–æ–π–ª—ã",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "beksyyk", name: "–ë–ï–ö–°–´–ô–´“ö", level: 3, type: "—É—Ä—É—É", tamga: "–ë–°", ur–∞–Ω: "–£–ª–ª—ã —Ç–∞—û", children: [{id:"zherger",name:"–ó–µ—Ä–≥–µ—Ä",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"masai",name:"–ú–∞—Å–∞–π",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"shyghyrshy",name:"–®—ã“ì—ã—Ä—à—ã",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"malay",name: "–ú–∞–ª–∞–π",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "kazayakly-k", name: "“ö–ê–ó–ê–Ø“ö–õ–´", level: 3, type: "—É—Ä—É—É", tamga: "“ö–ó", ur–∞–Ω: "–£–ª–ª—ã —Ç–∞—û", children: [{id:"kalsen",name:"–ö”ô–ª—Å–µ–Ω",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"kuyik",name:"–ö“Ø–π—ñ–∫",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"myrzai",name:"–ú—ã—Ä–∑–∞–π",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"qylymoiyn",name:"“ö—ã–ª–º–æ–π—ã–Ω",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"zhylkybai",name:"–ñ—ã–ª“õ–±–∞–π",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"baibishe-kz",name:"–ë”ô–π–±—ñ—à–µ",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"baibishe-kosh",name:"–ë”ô–π–±—ñ—à–µ",level:5,type:"–∫”©—à–µ"}]}] },
                                { id: "kaishyly", name: "“ö–ê–ô–®–´–õ–´", level: 3, type: "—É—Ä—É—É", tamga: "“ö–®", ur–∞–Ω: "–£–ª–ª—ã —Ç–∞—û", children: [{id:"aqymbet",name:"–ê“õ—ã–º–±–µ—Ç",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"zhuansan",name:"–ñ—É–≤–∞–Ω—Å–∞–Ω",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"koterehoja",name:"–ö”©—Ç–µ—Ä–µ—Ö–æ–∂–∞",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"tanamyrza",name:"–¢–∞–Ω–∞–º—ã—Ä–∑–∞",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"baqy",name:"–ë–∞“õ–∏",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"sybyl",name:"–°—ã–±—ã–ª",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"basar",name:"–ë–∞—Å–∞—Ä",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"tolyq",name:"–¢–æ–ª—ã“õ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"yaby",name:"–Ø–±—ã",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "aitereke", name: "”ò–ô–¢–ï–ö–ï", level: 3, type: "—É—Ä—É—É", tamga: "”ò–¢", ur–∞–Ω: "–£–ª–ª—ã —Ç–∞—û", children: [{id:"zhadyq",name:"–ñ”ô–¥—ñ–∫",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"yrsymbek",name:"–´—Ä—Å—ã–º–±–µ–∫",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"orazymbet",name:"–û—Ä–∞–∑—ã–º–±–µ—Ç",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"tangirkul",name:"–¢…ô“£—ñ—Ä“õ“±–ª",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"bektes",name:"–ë–µ–∫—Ç–µ—Å",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"bektes-kosh",name:"–ë–µ–∫—Ç–µ—Å",level:5,type:"–∫”©—à–µ"}]},{id:"nauriz",name:"–ù–∞—É—Ä—ã–∑",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"nauriz-kosh",name:"–ù–∞—É—Ä—ã–∑",level:5,type:"–∫”©—à–µ"}]},{id:"maniuwli-a",name:"–ú”ô–Ω–∂“Ø—û–ª—ñ",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"maniuwli-kosh",name:"–ú”ô–Ω–∂“Ø—û–ª—ñ",level:5,type:"–∫”©—à–µ"}]},{id:"tazshylyq",name:"–¢–∞–∑—à—ã–ª—ã“õ",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"tazshylyq-kosh",name:"–¢–∞–∑—à—ã–ª—ã“õ",level:5,type:"–∫”©—à–µ"}]}] },
                                { id: "manjuwli-k", name: "–ú–ê“¢–ñ“Æ–£–õI", level: 3, type: "—É—Ä—É—É", tamga: "–ú“¢", ur–∞–Ω: "–£–ª–ª—ã —Ç–∞—û", children: [{id:"eki-shyiq",name:"–ï–∫—ñ —à—ã–π—ã“õ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"qaramanjuwli",name:"“ö–∞—Ä–∞–º–∞–Ω–∂“Ø—û–ª—ñ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"aiiereke",name:"”ò–π–µ—Ä–µ–∫–µ",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "aralbai", name: "–ê–†–ê–õ–ë–ê–ô", level: 3, type: "—É—Ä—É—É", tamga: "–ê–†", ur–∞–Ω: "–£–ª–ª—ã —Ç–∞—û", children: [{id:"aqqala",name:"–ê“õ“õ–∞–ª–∞",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"qalmuart-ar",name:"“ö–∞–ª–º—É—Ä–∞—Ç",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"ogizbaishy",name:"”®–≥–∏–∑–±–∞–π—à—ã",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"baibishe-ar",name:"–ë”ô–π–±—ñ—à–µ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"tile-qusshy",name:"–¢—ñ–ª–µ—É “õ—É—Å—à—ã",level:4,type:"—Ç–∏–π—Ä–µ"}] }
                            ]
                        },
                        {
                            id: "kypshak", name: "“ö–´–ü–®–ê“ö", level: 2, type: "“Ø–ª–∫–µ–Ω —É—Ä—É—É", tamga: "I", ur–∞–Ω: "–¢–æ“õ—Å–∞–±–∞",
                            children: [
                                { id: "kangly", name: "“ö–ê“¢–õ–´", level: 3, type: "—É—Ä—É—É", tamga: "“ö“¢", ur–∞–Ω: "–¢–æ“õ—Å–∞–±–∞", children: [{id:"tram",name:"–¢—Ä–∞–º",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"qatqangly",name:"“ö–∞—Ç“õ–∞“£–ª—ã",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"yrghaqly",name:"–´—Ä“ì–∞“õ–ª—ã",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"ashamaily-k",name:"–ê—à–∞–º–∞–π–ª—ã",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"taraqty-k",name:"–¢–∞—Ä–∞“õ—Ç—ã",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"baspak",name:"–ë–∞—Å–ø–∞“õ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"aiat",name:"–ê–π—è—Ç",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"bosyn",name:"–ë–æ—Å—ã–Ω",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"basapat",name:"–ë–∞—Å–ø–∞—Ç",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"konyrqazy",name:"“ö–æ“£—ã—Ä“õ–∞–∑—ã",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"kenes",name:"–ö–µ–Ω–µ—Å",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"tashkent",name:"–¢–∞—à–∫–µ–Ω—Ç",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "sanmuryn", name: "–°–ê“¢–ú“∞–†–´–ù", level: 3, type: "—É—Ä—É—É", tamga: "–°–ú", ur–∞–Ω: "–¢–æ“õ—Å–∞–±–∞", children: [{id:"konshi",name:"–ö”©–Ω—à—ñ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"tubai",name:"–¢“±–±–∞–π",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"eshkili",name:"–ï—à–∫—ñ–ª—ñ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"zhaipaq-shek",name:"–ñ–∞–ª–ø–∞“õ —à–µ–∫",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"tolebai",name:"–¢”©–ª–µ–±–∞–π",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"zhabashy",name:"–ñ–∞–±–∞—à—ã",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "estek", name: "–ï–°–¢–ï–ö", level: 3, type: "—É—Ä—É—É", tamga: "–ï–°", ur–∞–Ω: "–¢–æ“õ—Å–∞–±–∞", children: [{id:"manqanai",name:"–ú–∞“£“õ–∞–Ω–∞–π",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"qaiypnazar",name:"“ö–∞–π—ã–ø–Ω–∞–∑–∞—Ä",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"karaterenshi",name:"“ö–∞—Ä–∞—Ç–µ—Ä–µ“£—à—ñ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"qalmuart-es",name:"“ö–∞–ª–º—É—Ä–∞—Ç",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "qanzhygaly", name: "“ö–ê–ù–ñ–´“í–ê–õ–´", level: 3, type: "—É—Ä—É—É", tamga: "“ö–ñ", ur–∞–Ω: "–¢–æ“õ—Å–∞–±–∞", children: [{id:"shanyshpai",name:"–®–∞–Ω—ã—à–ø–∞–π",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"sambet-q",name:"–°–∞–º–±–µ—Ç",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"zhaghaltai",name:"–ñ–∞“ì–∞–ª—Ç–∞–π",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"baibishe-q",name:"–ë”ô–π–±—ñ—à–µ",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"baibishe-q-kosh",name:"–ë”ô–π–±—ñ—à–µ",level:5,type:"–∫”©—à–µ"}]}] },
                                { id: "saltyr", name: "–°–ê–õ–¢–´–†", level: 3, type: "—É—Ä—É—É", tamga: "–°–õ", ur–∞–Ω: "–¢–æ“õ—Å–∞–±–∞", children: [{id:"baibishe-s",name:"–ë”ô–π–±—ñ—à–µ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"sart",name:"–°–∞—Ä—Ç",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"orazymbet-s",name:"–û—Ä–∞–∑—ã–º–±–µ—Ç",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"shuyghan",name:"–®—É—ã–ª“ì–∞–Ω",level:4,type:"—Ç–∏–π—Ä–µ"}] }
                            ]
                        },
                        {
                            id: "keneges", name: "–ö–ï–ù–ï–ì–ï–°", level: 2, type: "“Ø–ª–∫–µ–Ω —É—Ä—É—É", tamga: "–•", ur–∞–Ω: "–®–∞—û–ª—ã-–®–∞—û—Ö–∞–π",
                            children: [
                                { id: "aranshy", name: "–ê–†–ê–ù–®–´", level: 3, type: "—É—Ä—É—É", tamga: "–ê–†", ur–∞–Ω: "–®–∞—û–ª—ã-–®–∞—û—Ö–∞–π", children: [{id:"annaqul",name:"–ê–Ω–Ω–∞“õ“±–ª",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"abas-k",name:"–ê–±–∞—Å",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"seitimbet",name:"–°–µ–π—Ç—ñ–º–±–µ—Ç",level:5,type:"–∫”©—à–µ"}]},{id:"suiin",name:"–°“Ø–π—ñ–Ω",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"zhuas",name:"–ñ—É–∞—Å",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"dauletqargha",name:"–î”ô—É–ª–µ—Ç“õ–∞—Ä“ì–∞",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"qaipbergen",name:"“ö–∞–π—ã–ø–±–µ—Ä–≥–µ–Ω",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "aktogyn", name: "–ê“ö–¢–û“í–´–ù", level: 3, type: "—É—Ä—É—É", tamga: "–ê–¢", ur–∞–Ω: "–®–∞—û–ª—ã-–®–∞—û—Ö–∞–π", children: [{id:"nanzhemes",name:"–ù–∞–Ω–∂–µ–º–µ—Å",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"kosher",name:"–ö”©—à–µ—Ä",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "omir", name: "”®–úI–†", level: 3, type: "—É—Ä—É—É", tamga: "”®–ú", ur–∞–Ω: "–®–∞—û–ª—ã-–®–∞—û—Ö–∞–π", children: [{id:"aqpyshaq",name:"–ê“õ–ø—ã—à–∞“õ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"usaq",name:"–£—Å–∞“õ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"zhel",name:"–ñ–µ–ª",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"mynzhyr",name:"–ú—ã–Ω–∂—ã—Ä",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"otemis-o",name:"”®—Ç–µ–º—ñ—Å",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "taraqly-ken", name: "–¢–ê–†–ê“ö–õ–´", level: 3, type: "—É—Ä—É—É", tamga: "–¢–†", ur–∞–Ω: "–®–∞—û–ª—ã-–®–∞—û—Ö–∞–π", children: [{id:"zhetiqaraghaz",name:"–ñ–µ—Ç—ñ“õ–∞—Ä–∞“õ–∞–∑–∞“õ—ã",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"zheti-kosh",name:"–ñ–µ—Ç—ñ“õ–∞—Ä–∞",level:5,type:"–∫”©—à–µ"}]}] },
                                { id: "dobal", name: "–î–û–ë–ê–õ", level: 3, type: "—É—Ä—É—É", tamga: "–î–ë", ur–∞–Ω: "–®–∞—û–ª—ã-–®–∞—û—Ö–∞–π" },
                                { id: "oymauyt", name: "–û–ô–ú–ê–é–´–¢", level: 3, type: "—É—Ä—É—É", tamga: "–û–ô", ur–∞–Ω: "–®–∞—û–ª—ã-–®–∞—û—Ö–∞–π", children: [{id:"qara-o",name:"“ö–∞—Ä–∞",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"sary-o",name:"–°–∞—Ä—ã",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"zhiydeli",name:"–ñ–∏–π–¥–µ–ª–∏",level:5,type:"–∫”©—à–µ"}]},{id:"aq-o",name:"–ê“õ",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "dombazqaq", name: "–î–û–ú–ë–ê–ó“ö–ê“ö", level: 3, type: "—É—Ä—É—É", tamga: "–î–ú", ur–∞–Ω: "–®–∞—û–ª—ã-–®–∞—û—Ö–∞–π" },
                                { id: "nokis", name: "–ù”®–öI–°", level: 3, type: "—É—Ä—É—É", tamga: "–ù–ö", ur–∞–Ω: "–®–∞—û–ª—ã-–®–∞—û—Ö–∞–π", children: [{id:"zhamanzhak",name:"–ñ–∞–º–∞–Ω–∂–∞“õ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"bozaq",name:"–ë–æ–∑–∞“õ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"altynpyshaq",name:"–ê–ª—Ç—ã–Ω–ø—ã—à–∞“õ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"ghobdir",name:"–ì–æ–±–¥–∏—Ä",level:4,type:"—Ç–∏–π—Ä–µ"}] }
                            ]
                        },
                        {
                            id: "mangyt", name: "–ú–ê“¢“í–´–¢", level: 2, type: "“Ø–ª–∫–µ–Ω —É—Ä—É—É", tamga: "f", ur–∞–Ω: "–®–∞—û–ª—ã-–®–∞—û—Ö–∞–π",
                            children: [
                                { id: "qaratay", name: "“ö–ê–†–ê–¢–ê–ô (“ö–∞—Ä–∞)", level: 3, type: "—Ç–æ–ø–∞—Ä", tamga: "“ö–¢", ur–∞–Ω: "–®–∞—û–ª—ã-–®–∞—û—Ö–∞–π", children: [{id:"qaramangyt",name:"“ö–∞—Ä–∞–º–∞–Ω“ì—ã—Ç",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"ushbas",name:"“Æ—à–±–∞—Å",level:5,type:"–∫”©—à–µ"},{id:"karasiraq-m",name:"“ö–∞—Ä–∞—Å—ã–π—Ä–∞“õ",level:5,type:"–∫”©—à–µ"},{id:"aqmangyt",name:"–ê“õ–º–∞–Ω“ì—ã—Ç",level:5,type:"–∫”©—à–µ"}]},{id:"mamyqshy",name:"–ú–∞–º—ã“õ—à—ã",level:4,type:"—É—Ä—É—É",children:[{id:"zhetiqurt",name:"–ñ–µ—Ç—ñ“õ—É—Ä—Ç",level:5,type:"–∫”©—à–µ"}]},{id:"kosar-m",name:"“ö–æ—Å–∞—Ä",level:4,type:"—É—Ä—É—É",children:[{id:"gubidin",name:"–ì“Ø–±–∏–¥–∏–Ω",level:5,type:"–∫”©—à–µ"}]},{id:"qylqaly",name:"“ö—ã–ª“õ–∞–ª—ã",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "sarytay", name: "–°–ê–†–´–¢–ê–ô (–°–∞—Ä—ã)", level: 3, type: "—Ç–æ–ø–∞—Ä", tamga: "–°–¢", ur–∞–Ω: "–®–∞—û–ª—ã-–®–∞—û—Ö–∞–π", children: [{id:"arshyn",name:"–ê—Ä—à—ã–Ω",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"zhailyk",name:"–ñ–∞–π–ª—ã“õ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"toqmangyt",name:"–¢–æ“õ–º–∞–Ω“ì—ã—Ç",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"arsary",name:"–ê—Ä—Å–∞—Ä—ã",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"tazhzhanlyk",name:"–¢–∞–∑–∂–∞–Ω–ª—ã“õ",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"shuyt",name:"–®“Ø–π—Ç",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"zhamansha",name:"–ñ–∞–º–∞–Ω—à–∞",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"esebii",name:"–ï—Å–µ–±–∏–π",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"tamgaly-m",name:"–¢–∞–º“ì–∞–ª—ã",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"toqmoiyin",name:"–¢–æ“õ–º–æ–π—ã–Ω",level:4,type:"—Ç–∏–π—Ä–µ"},{id:"temirhoja",name:"–¢–µ–º–∏—Ä—Ö–æ–∂–∞",level:4,type:"—Ç–∏–π—Ä–µ"}] },
                                { id: "boztay", name: "–ë–û–ó–¢–ê–ô (–ë–æ–∑)", level: 3, type: "—Ç–æ–ø–∞—Ä", tamga: "–ë–¢", ur–∞–Ω: "–®–∞—û–ª—ã-–®–∞—û—Ö–∞–π", children: [{id:"bozta",name:"–ë–æ–∑—Ç–∞",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"bozta-kosh",name:"–ë–æ–∑—Ç–∞",level:5,type:"–∫”©—à–µ"}]}] },
                                { id: "jetimtay", name: "–ñ–ï–¢I–ú–¢–ê–ô (–ñ–µ—Ç—ñ–º)", level: 3, type: "—Ç–æ–ø–∞—Ä", tamga: "–ñ–¢", ur–∞–Ω: "–®–∞—û–ª—ã-–®–∞—û—Ö–∞–π", children: [{id:"eshbuga",name:"–ï—à–±—É“ì–∞",level:4,type:"—Ç–∏–π—Ä–µ",children:[{id:"eshbuga-kosh",name:"–ï—à–±—É“ì–∞",level:5,type:"–∫”©—à–µ"}]}] }
                            ]
                        }
                    ]
                }
            ]
        };

        // –•—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
        let selections = {
            groom: null,
            bride: null
        };

        // –ü–æ–ª—É—á–∏—Ç—å –ø—É—Ç—å –∫ —É–∑–ª—É
        function getNodePath(nodeId, node = tribeData, path = []) {
            if (node.id === nodeId) {
                return [...path, node];
            }
            if (node.children) {
                for (let child of node.children) {
                    const result = getNodePath(nodeId, child, [...path, node]);
                    if (result) return result;
                }
            }
            return null;
        }

        // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —É–∑–ª—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è
        function getAllNodesAtLevel(level, node = tribeData, result = []) {
            if (node.level === level) {
                result.push(node);
            }
            if (node.children) {
                node.children.forEach(child => getAllNodesAtLevel(level, child, result));
            }
            return result;
        }

        // –ù–∞–π—Ç–∏ –±–ª–∏–∂–∞–π—à–µ–≥–æ –æ–±—â–µ–≥–æ –ø—Ä–µ–¥–∫–∞
        function findCommonAncestor(path1, path2) {
            let common = null;
            let minLength = Math.min(path1.length, path2.length);
            for (let i = 0; i < minLength; i++) {
                if (path1[i].id === path2[i].id) {
                    common = path1[i];
                } else {
                    break;
                }
            }
            return common;
        }

        // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç–∫–∑–æ–≥–∞–º–∏—é
        function checkExogamy() {
            if (!selections.groom || !selections.bride) {
                updateResult('pending');
                return;
            }

            const groomPath = getNodePath(selections.groom);
            const bridePath = getNodePath(selections.bride);

            if (!groomPath || !bridePath) return;

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —É–∑–µ–ª
            if (selections.groom === selections.bride) {
                updateResult('forbidden', 'same');
                return;
            }

            // –ù–∞—Ö–æ–¥–∏–º –æ–±—â–µ–≥–æ –ø—Ä–µ–¥–∫–∞
            const commonAncestor = findCommonAncestor(groomPath, bridePath);

            if (!commonAncestor) {
                updateResult('allowed', 'different');
                return;
            }

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Ä–æ–≤–µ–Ω—å –æ–±—â–µ–≥–æ –ø—Ä–µ–¥–∫–∞
            const commonLevel = commonAncestor.level;
            
            if (commonLevel === 5) { // –ö”©—à–µ
                updateResult('forbidden', 'koshe');
            } else if (commonLevel === 4) { // –¢–∏–π—Ä–µ
                updateResult('forbidden', 'tiyre');
            } else if (commonLevel === 3) { // –£—Ä—É—É
                updateResult('forbidden', 'uruu');
            } else if (commonLevel === 2) { // –ë”©–ªi–º
                updateResult('warning', 'bolim');
            } else if (commonLevel === 1) { // –ê—Ä—ã—Å
                updateResult('allowed', 'arys');
            } else {
                updateResult('allowed', 'nation');
            }
        }

        // –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        function updateResult(status, reason) {
            const panel = document.getElementById('resultPanel');
            const icon = panel.querySelector('.result-icon');
            const title = panel.querySelector('.result-title');
            const desc = panel.querySelector('.result-description');
            const details = document.getElementById('resultDetails');

            panel.className = 'result-panel ' + status;

            const messages = {
                pending: {
                    icon: '‚è≥',
                    title: '–¢–∞“£–¥–∞—É –∫“Ø—Ç—ñ–ª—É–¥–µ / –û–∂–∏–¥–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞',
                    desc: '–ï–∫—ñ –∂–∞“õ—Ç—ã —Ç–∞“£–¥–∞“ì–∞–Ω–Ω–∞–Ω –∫–µ–π—ñ–Ω –Ω–µ–∫–µ–Ω—ñ“£ –º“Ø–º–∫—ñ–Ω–¥—ñ–≥—ñ —Ç–µ–∫—Å–µ—Ä—ñ–ª–µ–¥—ñ<br>–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—Ä–∞–∫–∞'
                },
                allowed: {
                    icon: '‚úÖ',
                    title: '–ù–ï–ö–ï–ì–ï –†“∞“ö–°–ê–¢ / –ë–†–ê–ö –†–ê–ó–†–ï–®–Å–ù',
                    desc: '–ë“±–ª —Ä—É–ª–∞—Ä –∞—Ä–∞—Å—ã–Ω–¥–∞ –Ω–µ–∫–µ “õ“±—Ä—É“ì–∞ –±–æ–ª–∞–¥—ã<br>–ú–µ–∂–¥—É —ç—Ç–∏–º–∏ —Ä–æ–¥–∞–º–∏ –±—Ä–∞–∫ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è'
                },
                forbidden: {
                    icon: '‚ùå',
                    title: '–ù–ï–ö–ï–ì–ï –¢–´–ô–´–ú –°–ê–õ–´–ù–ê–î–´ / –ë–†–ê–ö –ó–ê–ü–†–ï–©–Å–ù',
                    desc: '–ë“±–ª —Ä—É–ª–∞—Ä –∞—Ä–∞—Å—ã–Ω–¥–∞ –Ω–µ–∫–µ “õ“±—Ä—É“ì–∞ –±–æ–ª–º–∞–π–¥—ã (–∏–Ω—Ü–µ—Å—Ç)<br>–ë—Ä–∞–∫ –º–µ–∂–¥—É —ç—Ç–∏–º–∏ —Ä–æ–¥–∞–º–∏ –∑–∞–ø—Ä–µ—â—ë–Ω (–∏–Ω—Ü–µ—Å—Ç)'
                },
                warning: {
                    icon: '‚ö†Ô∏è',
                    title: '–ï–°–ö–ï–†–¢–£ / –í–ù–ò–ú–ê–ù–ò–ï',
                    desc: '–ù–µ–∫–µ –º“Ø–º–∫—ñ–Ω, –±—ñ—Ä–∞“õ “±—Å—ã–Ω—ã–ª–º–∞–π–¥—ã<br>–ë—Ä–∞–∫ –≤–æ–∑–º–æ–∂–µ–Ω, –Ω–æ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è'
                }
            };

            const msg = messages[status];
            icon.textContent = msg.icon;
            title.textContent = msg.title;
            desc.innerHTML = msg.desc;

            // –î–µ—Ç–∞–ª–∏
            if (status !== 'pending') {
                details.style.display = 'block';
                let detailsHTML = '<h4>üìã –¢–∞–ª–¥–∞—É / –ê–Ω–∞–ª–∏–∑:</h4><ul>';
                
                const groomPath = getNodePath(selections.groom);
                const bridePath = getNodePath(selections.bride);
                
                // –ü—É—Ç—å –∂–µ–Ω–∏—Ö–∞
                detailsHTML += '<li><strong>–ö“Ø–π–µ—É –∂—ñ–≥—ñ—Ç / –ñ–µ–Ω–∏—Ö:</strong> ';
                detailsHTML += groomPath.map(n => n.name).join(' ‚Üí ');
                detailsHTML += '</li>';
                
                // –ü—É—Ç—å –Ω–µ–≤–µ—Å—Ç—ã
                detailsHTML += '<li><strong>–ö–µ–ª—ñ–Ω / –ù–µ–≤–µ—Å—Ç–∞:</strong> ';
                detailsHTML += bridePath.map(n => n.name).join(' ‚Üí ');
                detailsHTML += '</li>';

                // –û–±—â–∏–π –ø—Ä–µ–¥–æ–∫
                const common = findCommonAncestor(groomPath, bridePath);
                if (common) {
                    detailsHTML += '<li><strong>–û—Ä—Ç–∞“õ –∞—Ç–∞ / –û–±—â–∏–π –ø—Ä–µ–¥–æ–∫:</strong> ' + common.name + ' (' + common.type + ')</li>';
                }

                // –ü—Ä–∏—á–∏–Ω–∞
                const reasons = {
                    same: '–¢–∞“£–¥–∞–ª“ì–∞–Ω —Ä—É–ª–∞—Ä –±—ñ—Ä–¥–µ–π / –í—ã–±—Ä–∞–Ω—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ä–æ–¥—ã',
                    koshe: '–ë—ñ—Ä –∫”©—à–µ–Ω—ñ“£ —ñ—à—ñ–Ω–¥–µ / –í–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –∫–æ—à–∞ (–∏–Ω—Ü–µ—Å—Ç)',
                    tiyre: '–ë—ñ—Ä —Ç–∏–π—Ä–µ–Ω—ñ“£ —ñ—à—ñ–Ω–¥–µ / –í–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ —Ç–∏–π—Ä–µ (–∏–Ω—Ü–µ—Å—Ç)',
                    uruu: '–ë—ñ—Ä —Ä—É–¥—ã“£ —ñ—à—ñ–Ω–¥–µ / –í–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ —Ä—É–∞ (–∏–Ω—Ü–µ—Å—Ç)',
                    bolim: '–ë—ñ—Ä –±”©–ª—ñ–º–Ω—ñ“£ —ñ—à—ñ–Ω–¥–µ / –í–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ (–®—É–ª—ã–∫/–ñ–∞—É—ã–Ω–≥—ã—Ä)',
                    arys: '–ë—ñ—Ä –∞—Ä—ã—Å—Ç—ã“£ —ñ—à—ñ–Ω–¥–µ, –±—ñ—Ä–∞“õ –±”©–ª–µ–∫ —Ä—É–ª–∞—Ä / –í–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –∞—Ä—ã—Å–∞, –Ω–æ —Ä–∞–∑–Ω—ã–µ —Ä—É—ã',
                    different: '–¢–æ–ª—ã“ì—ã–º–µ–Ω –±”©–ª–µ–∫ —Ä—É–ª–∞—Ä / –°–æ–≤–µ—Ä—à–µ–Ω–Ω–æ —Ä–∞–∑–Ω—ã–µ —Ä–æ–¥—ã',
                    nation: '–ë—ñ—Ä —Ö–∞–ª—ã“õ—Ç—ã“£ —ñ—à—ñ–Ω–¥–µ / –í–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –Ω–∞—Ä–æ–¥–∞'
                };
                
                if (reason) {
                    detailsHTML += '<li><strong>–°–µ–±–µ–ø / –ü—Ä–∏—á–∏–Ω–∞:</strong> ' + reasons[reason] + '</li>';
                }

                // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
                detailsHTML += '</ul><h4>üí° “∞—Å—ã–Ω—ã—Å / –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:</h4><ul>';
                if (status === 'allowed') {
                    detailsHTML += '<li>‚úÖ –ù–µ–∫–µ —Ç“Ø–∑—É–≥–µ –±–æ–ª–∞–¥—ã / –ë—Ä–∞–∫ —Ä–∞–∑—Ä–µ—à—ë–Ω</li>';
                    if (reason === 'arys') {
                        detailsHTML += '<li>‚ÑπÔ∏è –î”ô—Å—Ç“Ø—Ä –±–æ–π—ã–Ω—à–∞ –µ–∫—ñ –±”©–ª–µ–∫ –∞—Ä—ã—Å—Ç–∞–Ω –Ω–µ–∫–µ “õ“±—Ä—É –∞—Ä—Ç—ã“õ / –ü–æ —Ç—Ä–∞–¥–∏—Ü–∏–∏ –ª—É—á—à–µ –±—Ä–∞–∫ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –∞—Ä—ã—Å–∞–º–∏</li>';
                    }
                } else if (status === 'forbidden') {
                    detailsHTML += '<li>‚ùå –ë“±–ª –Ω–µ–∫–µ –∏—Å–ª–∞–º –∑–∞“£—ã –±–æ–π—ã–Ω—à–∞ –∂”ô–Ω–µ –¥”ô—Å—Ç“Ø—Ä –±–æ–π—ã–Ω—à–∞ —Ç—ã–π—ã–º —Å–∞–ª—ã–Ω“ì–∞–Ω / –≠—Ç–æ—Ç –±—Ä–∞–∫ –∑–∞–ø—Ä–µ—â—ë–Ω –∏—Å–ª–∞–º—Å–∫–∏–º –∑–∞–∫–æ–Ω–æ–º –∏ —Ç—Ä–∞–¥–∏—Ü–∏–µ–π</li>';
                    detailsHTML += '<li>‚ö†Ô∏è –ë–∞—Å“õ–∞ —Ä—É–¥–∞–Ω –∂–∞—Ä —ñ–∑–¥–µ—É –∫–µ—Ä–µ–∫ / –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–∫–∞—Ç—å –ø–∞—Ä—É –∏–∑ –¥—Ä—É–≥–æ–≥–æ —Ä–æ–¥–∞</li>';
                } else if (status === 'warning') {
                    detailsHTML += '<li>‚ö†Ô∏è –ù–µ–∫–µ –º“Ø–º–∫—ñ–Ω, –±—ñ—Ä–∞“õ –¥”ô—Å—Ç“Ø—Ä –±–æ–π—ã–Ω—à–∞ “±—Å—ã–Ω—ã–ª–º–∞–π–¥—ã / –ë—Ä–∞–∫ –≤–æ–∑–º–æ–∂–µ–Ω, –Ω–æ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ —Ç—Ä–∞–¥–∏—Ü–∏–∏</li>';
                    detailsHTML += '<li>üí≠ –ï–∫—ñ –±”©–ª–µ–∫ –∞—Ä—ã—Å—Ç–∞–Ω –Ω–µ–º–µ—Å–µ –±”©–ª–µ–∫ “Ø–ª–∫–µ–Ω —Ä—É–ª–∞—Ä–¥–∞–Ω —Ç–∞“£–¥–∞“ì–∞–Ω –∂”©–Ω / –õ—É—á—à–µ –≤—ã–±—Ä–∞—Ç—å –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∞—Ä—ã—Å–æ–≤ –∏–ª–∏ —Ä–∞–∑–Ω—ã—Ö –±–æ–ª—å—à–∏—Ö —Ä—É–æ–≤</li>';
                }
                detailsHTML += '</ul>';

                details.innerHTML = detailsHTML;
            } else {
                details.style.display = 'none';
            }
        }

        // –°–æ–∑–¥–∞—Ç—å –¥–µ—Ä–µ–≤–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞
        function createTreeSelector(containerId, type) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            function createNodeElement(node, level = 0) {
                const div = document.createElement('div');
                div.className = 'tree-node';
                
                const item = document.createElement('div');
                item.className = 'tree-item node-level-' + level;
                item.dataset.id = node.id;
                item.dataset.type = type;
                
                // –ò–∫–æ–Ω–∫–∞ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π
                let toggleIcon = '';
                if (node.children && node.children.length > 0) {
                    toggleIcon = '<span class="tree-toggle" onclick="toggleNode(event, \'' + node.id + '_' + type + '\')">‚ñº</span>';
                } else {
                    toggleIcon = '<span style="width:20px;"></span>';
                }
                
                // –ó–Ω–∞—á–æ–∫ —É—Ä–æ–≤–Ω—è
                const levelBadges = ['“∞–ª—Ç', '–ê—Ä—ã—Å', '–ë”©–ª—ñ–º', '–†—É', '–¢–∏–π—Ä–µ', '–ö”©—à–µ'];
                const badge = level > 0 ? '<span class="level-badge">' + levelBadges[level] + '</span>' : '';
                
                item.innerHTML = toggleIcon + badge + node.name;
                
                // –ö–ª–∏–∫ –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É
                item.onclick = function(e) {
                    if (e.target.classList.contains('tree-toggle')) return;
                    selectNode(node, type);
                };
                
                div.appendChild(item);
                
                // –î–µ—Ç–∏
                if (node.children && node.children.length > 0) {
                    const childrenDiv = document.createElement('div');
                    childrenDiv.id = 'children_' + node.id + '_' + type;
                    childrenDiv.style.display = level < 2 ? 'block' : 'none';
                    
                    node.children.forEach(child => {
                        childrenDiv.appendChild(createNodeElement(child, level + 1));
                    });
                    
                    div.appendChild(childrenDiv);
                }
                
                return div;
            }
            
            container.appendChild(createNodeElement(tribeData));
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —É–∑–µ–ª
        function toggleNode(event, id) {
            event.stopPropagation();
            const children = document.getElementById('children_' + id);
            const toggle = event.target;
            
            if (children.style.display === 'none') {
                children.style.display = 'block';
                toggle.textContent = '‚ñº';
            } else {
                children.style.display = 'none';
                toggle.textContent = '‚ñ∂';
            }
        }

        // –í—ã–±—Ä–∞—Ç—å —É–∑–µ–ª
        function selectNode(node, type) {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±–æ—Ä
            selections[type] = node.id;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            const display = document.getElementById(type + 'Display');
            display.textContent = node.name + ' (' + node.type + ')';
            display.classList.remove('empty');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –æ—á–∏—Å—Ç–∫–∏
            document.getElementById(type + 'Clear').classList.add('visible');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ –≤ –¥–µ—Ä–µ–≤–µ
            document.querySelectorAll('.tree-item[data-type="' + type + '"]').forEach(item => {
                item.classList.remove('selected');
                if (item.dataset.id === node.id) {
                    item.classList.add('selected');
                }
            });
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —ç–∫–∑–æ–≥–∞–º–∏—é
            checkExogamy();
        }

        // –û—á–∏—Å—Ç–∏—Ç—å –≤—ã–±–æ—Ä
        function clearSelection(type) {
            selections[type] = null;
            
            const display = document.getElementById(type + 'Display');
            display.textContent = '–¢–∞“£–¥–∞“£—ã–∑ / –í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–¥';
            display.classList.add('empty');
            
            document.getElementById(type + 'Clear').classList.remove('visible');
            
            document.querySelectorAll('.tree-item[data-type="' + type + '"]').forEach(item => {
                item.classList.remove('selected');
            });
            
            checkExogamy();
        }

        // –°–≤–µ—Ä–Ω—É—Ç—å –≤—Å–µ
        function collapseAll(type) {
            document.querySelectorAll('#' + type + 'Tree [id^="children_"]').forEach(el => {
                el.style.display = 'none';
            });
            document.querySelectorAll('#' + type + 'Tree .tree-toggle').forEach(el => {
                el.textContent = '‚ñ∂';
            });
        }

        // –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤—Å–µ
        function expandAll(type) {
            document.querySelectorAll('#' + type + 'Tree [id^="children_"]').forEach(el => {
                el.style.display = 'block';
            });
            document.querySelectorAll('#' + type + 'Tree .tree-toggle').forEach(el => {
                el.textContent = '‚ñº';
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            createTreeSelector('groomTree', 'groom');
            createTreeSelector('brideTree', 'bride');
            
            // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –ø–µ—Ä–≤—ã–µ —É—Ä–æ–≤–Ω–∏
            expandAll('groom');
            expandAll('bride');
        });
    </script>
</body>
</html>